"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof{}||("undefined"!==typeof global?global:"undefined"!==typeof self&&self);var B={};var D={get exports(){return B},set exports(D){B=D}};(function(B,D){!function(D,F){B.exports=F()}(0,(()=>{return B={770:function(B,D,F){var U=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(D,"__esModule",{value:!0}),D.setDefaultDebugCall=D.createOnigScanner=D.createOnigString=D.loadWASM=D.OnigScanner=D.OnigString=void 0;const W=U(F(418));let H=null,X=!1;class f{static _utf8ByteLength(B){let D=0;for(let F=0,U=B.length;F<U;F++){const W=B.charCodeAt(F);let H=W,X=!1;if(W>=55296&&W<=56319&&F+1<U){const D=B.charCodeAt(F+1);D>=56320&&D<=57343&&(H=65536+(W-55296<<10)|D-56320,X=!0)}D+=H<=127?1:H<=2047?2:H<=65535?3:4,X&&F++}return D}constructor(B){const D=B.length,F=f._utf8ByteLength(B),U=F!==D,W=U?new Uint32Array(D+1):null;U&&(W[D]=F);const H=U?new Uint32Array(F+1):null;U&&(H[F]=D);const X=new Uint8Array(F);let ee=0;for(let F=0;F<D;F++){const te=B.charCodeAt(F);let ne=te,se=!1;if(te>=55296&&te<=56319&&F+1<D){const D=B.charCodeAt(F+1);D>=56320&&D<=57343&&(ne=65536+(te-55296<<10)|D-56320,se=!0)}U&&(W[F]=ee,se&&(W[F+1]=ee),ne<=127?H[ee+0]=F:ne<=2047?(H[ee+0]=F,H[ee+1]=F):ne<=65535?(H[ee+0]=F,H[ee+1]=F,H[ee+2]=F):(H[ee+0]=F,H[ee+1]=F,H[ee+2]=F,H[ee+3]=F)),ne<=127?X[ee++]=ne:ne<=2047?(X[ee++]=192|(1984&ne)>>>6,X[ee++]=128|(63&ne)>>>0):ne<=65535?(X[ee++]=224|(61440&ne)>>>12,X[ee++]=128|(4032&ne)>>>6,X[ee++]=128|(63&ne)>>>0):(X[ee++]=240|(1835008&ne)>>>18,X[ee++]=128|(258048&ne)>>>12,X[ee++]=128|(4032&ne)>>>6,X[ee++]=128|(63&ne)>>>0),se&&F++}this.utf16Length=D,this.utf8Length=F,this.utf16Value=B,this.utf8Value=X,this.utf16OffsetToUtf8=W,this.utf8OffsetToUtf16=H}createString(B){const D=B._omalloc(this.utf8Length);return B.HEAPU8.set(this.utf8Value,D),D}}class s{constructor(B){if(this.id=++s.LAST_ID,!H)throw new Error("Must invoke loadWASM first.");this._onigBinding=H,this.content=B;const D=new f(B);this.utf16Length=D.utf16Length,this.utf8Length=D.utf8Length,this.utf16OffsetToUtf8=D.utf16OffsetToUtf8,this.utf8OffsetToUtf16=D.utf8OffsetToUtf16,this.utf8Length<1e4&&!s._sharedPtrInUse?(s._sharedPtr||(s._sharedPtr=H._omalloc(1e4)),s._sharedPtrInUse=!0,H.HEAPU8.set(D.utf8Value,s._sharedPtr),this.ptr=s._sharedPtr):this.ptr=D.createString(H)}convertUtf8OffsetToUtf16(B){return this.utf8OffsetToUtf16?B<0?0:B>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[B]:B}convertUtf16OffsetToUtf8(B){return this.utf16OffsetToUtf8?B<0?0:B>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[B]:B}dispose(){this.ptr===s._sharedPtr?s._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}D.OnigString=s,s.LAST_ID=0,s._sharedPtr=0,s._sharedPtrInUse=!1;class u{constructor(B){if(!H)throw new Error("Must invoke loadWASM first.");const D=[],F=[];for(let U=0,W=B.length;U<W;U++){const W=new f(B[U]);D[U]=W.createString(H),F[U]=W.utf8Length}const U=H._omalloc(4*B.length);H.HEAPU32.set(D,U/4);const W=H._omalloc(4*B.length);H.HEAPU32.set(F,W/4);const X=H._createOnigScanner(U,W,B.length);for(let F=0,U=B.length;F<U;F++)H._ofree(D[F]);H._ofree(W),H._ofree(U),0===X&&function(B){throw new Error(B.UTF8ToString(B._getLastOnigError()))}(H),this._onigBinding=H,this._ptr=X}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(B,D,F){let U=X,W=0;if("number"==typeof F?(8&F&&(U=!0),W=F):"boolean"==typeof F&&(U=F),"string"==typeof B){B=new s(B);const F=this._findNextMatchSync(B,D,U,W);return B.dispose(),F}return this._findNextMatchSync(B,D,U,W)}_findNextMatchSync(B,D,F,U){const W=this._onigBinding;let H;if(H=F?W._findNextOnigScannerMatchDbg(this._ptr,B.id,B.ptr,B.utf8Length,B.convertUtf16OffsetToUtf8(D),U):W._findNextOnigScannerMatch(this._ptr,B.id,B.ptr,B.utf8Length,B.convertUtf16OffsetToUtf8(D),U),0===H)return null;const X=W.HEAPU32;let ee=H/4;const te=X[ee++],ne=X[ee++];let se=[];for(let D=0;D<ne;D++){const F=B.convertUtf8OffsetToUtf16(X[ee++]),U=B.convertUtf8OffsetToUtf16(X[ee++]);se[D]={start:F,end:U,length:U-F}}return{index:te,captureIndices:se}}}D.OnigScanner=u;let ee=!1,te=null;D.loadWASM=function(B){if(ee)return te;let D,F,U,X;if(ee=!0,function(B){return"function"==typeof B.instantiator}(B))D=B.instantiator,F=B.print;else{let U;!function(B){return void 0!==B.data}(B)?U=B:(U=B.data,F=B.print),D=function(B){return"undefined"!=typeof Response&&B instanceof Response}(U)?"function"==typeof WebAssembly.instantiateStreaming?function(B){return D=>WebAssembly.instantiateStreaming(B,D)}(U):function(B){return async D=>{const F=await B.arrayBuffer();return WebAssembly.instantiate(F,D)}}(U):function(B){return D=>WebAssembly.instantiate(B,D)}(U)}return te=new Promise(((B,D)=>{U=B,X=D})),function(B,D,F,U){(0,W.default)({print:D,instantiateWasm:(D,F)=>{if("undefined"==typeof performance){const t=()=>Date.now();D.env.emscripten_get_now=t,D.wasi_snapshot_preview1.emscripten_get_now=t}return B(D).then((B=>F(B.instance)),U),{}}}).then((B=>{H=B,F()}))}(D,F,U,X),te},D.createOnigString=function(B){return new s(B)},D.createOnigScanner=function(B){return new u(B)},D.setDefaultDebugCall=function(B){X=B}},418:B=>{var D=("undefined"!=typeof document&&document.currentScript&&document.currentScript.src,function(B){var D,F,U=void 0!==(B=B||{})?B:{};U.ready=new Promise((function(B,U){D=B,F=U}));var W,H=Object.assign({},U),X=!1,ee="";function l(B){return U.locateFile?U.locateFile(B,ee):ee+B}W=function(B){let D;return"function"==typeof readbuffer?new Uint8Array(readbuffer(B)):(D=read(B,"binary"),m("object"==typeof D),D)},"undefined"!=typeof scriptArgs?scriptArgs:void 0!==arguments&&arguments,"undefined"!=typeof onig_print&&("undefined"==typeof console&&(console={}),console.log=onig_print,console.warn=console.error="undefined"!=typeof printErr?printErr:onig_print);var te,ne,se=U.print||console.log.bind(console),ae=U.printErr||console.warn.bind(console);Object.assign(U,H),H=null,U.arguments&&U.arguments,U.thisProgram&&U.thisProgram,U.quit&&U.quit,U.wasmBinary&&(te=U.wasmBinary),U.noExitRuntime,"object"!=typeof WebAssembly&&k("no native wasm support detected");var re=!1;function m(B,D){B||k(D)}var oe,ie,ce,le="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function A(B,D,F){for(var U=D+F,W=D;B[W]&&!(W>=U);)++W;if(W-D>16&&B.buffer&&le)return le.decode(B.subarray(D,W));for(var H="";D<W;){var X=B[D++];if(128&X){var ee=63&B[D++];if(192!=(224&X)){var te=63&B[D++];if((X=224==(240&X)?(15&X)<<12|ee<<6|te:(7&X)<<18|ee<<12|te<<6|63&B[D++])<65536)H+=String.fromCharCode(X);else{var ne=X-65536;H+=String.fromCharCode(55296|ne>>10,56320|1023&ne)}}else H+=String.fromCharCode((31&X)<<6|ee)}else H+=String.fromCharCode(X)}return H}function b(B,D){return B?A(ie,B,D):""}function O(B){oe=B,U.HEAP8=new Int8Array(B),U.HEAP16=new Int16Array(B),U.HEAP32=new Int32Array(B),U.HEAPU8=ie=new Uint8Array(B),U.HEAPU16=new Uint16Array(B),U.HEAPU32=ce=new Uint32Array(B),U.HEAPF32=new Float32Array(B),U.HEAPF64=new Float64Array(B)}U.INITIAL_MEMORY;var ue=[],he=[],pe=[];function x(){if(U.preRun)for("function"==typeof U.preRun&&(U.preRun=[U.preRun]);U.preRun.length;)M(U.preRun.shift());G(ue)}function T(){G(he)}function E(){if(U.postRun)for("function"==typeof U.postRun&&(U.postRun=[U.postRun]);U.postRun.length;)I(U.postRun.shift());G(pe)}function M(B){ue.unshift(B)}function L(B){he.unshift(B)}function I(B){pe.unshift(B)}var de=0,me=null;function N(B){de++,U.monitorRunDependencies&&U.monitorRunDependencies(de)}function j(B){if(de--,U.monitorRunDependencies&&U.monitorRunDependencies(de),0==de&&me){var D=me;me=null,D()}}function k(B){U.onAbort&&U.onAbort(B),ae(B="Aborted("+B+")"),re=!0,B+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(B);throw F(D),D}var ge,fe,_e="data:application/octet-stream;base64,";function V(B){return B.startsWith(_e)}function z(B){try{if(B==ge&&te)return new Uint8Array(te);if(W)return W(B);throw"both async and sync fetching of the wasm failed"}catch(B){k(B)}}function q(){return te||!X||"function"!=typeof fetch?Promise.resolve().then((function(){return z(ge)})):fetch(ge,{credentials:"same-origin"}).then((function(B){if(!B.ok)throw"failed to load wasm binary file at '"+ge+"'";return B.arrayBuffer()})).catch((function(){return z(ge)}))}function Y(){var B={env:ke,wasi_snapshot_preview1:ke};function n(B,D){var F=B.exports;U.asm=F,O((ne=U.asm.memory).buffer),U.asm.__indirect_function_table,L(U.asm.__wasm_call_ctors),j()}function i(B){n(B.instance)}function o(D){return q().then((function(D){return WebAssembly.instantiate(D,B)})).then((function(B){return B})).then(D,(function(B){ae("failed to asynchronously prepare wasm: "+B),k(B)}))}if(N(),U.instantiateWasm)try{return U.instantiateWasm(B,n)}catch(B){ae("Module.instantiateWasm callback failed with error: "+B),F(B)}return(te||"function"!=typeof WebAssembly.instantiateStreaming||V(ge)||"function"!=typeof fetch?o(i):fetch(ge,{credentials:"same-origin"}).then((function(D){return WebAssembly.instantiateStreaming(D,B).then(i,(function(B){return ae("wasm streaming compile failed: "+B),ae("falling back to ArrayBuffer instantiation"),o(i)}))}))).catch(F),{}}function G(B){for(;B.length>0;)B.shift()(U)}function J(B,D,F){ie.copyWithin(B,D,D+F)}function K(B){try{return ne.grow(B-oe.byteLength+65535>>>16),O(ne.buffer),1}catch(B){}}function Q(B){var D,F=ie.length,U=2147483648;if((B>>>=0)>U)return!1;for(var W=1;W<=4;W*=2){var H=F*(1+.2/W);if(H=Math.min(H,B+100663296),K(Math.min(U,(D=Math.max(B,H))+(65536-D%65536)%65536)))return!0}return!1}V(ge="onig.wasm")||(ge=l(ge)),fe="undefined"!=typeof dateNow?dateNow:()=>performance.now();var be=[null,[],[]];function Z(B,D){var F=be[B];0===D||10===D?((1===B?se:ae)(A(F,0)),F.length=0):F.push(D)}function $(B,D,F,U){for(var W=0,H=0;H<F;H++){var X=ce[D>>2],ee=ce[D+4>>2];D+=8;for(var te=0;te<ee;te++)Z(B,ie[X+te]);W+=ee}return ce[U>>2]=W,0}var ye,ke={emscripten_get_now:fe,emscripten_memcpy_big:J,emscripten_resize_heap:Q,fd_write:$};function et(B){function e(){ye||(ye=!0,U.calledRun=!0,re||(T(),D(U),U.onRuntimeInitialized&&U.onRuntimeInitialized(),E()))}de>0||(x(),de>0||(U.setStatus?(U.setStatus("Running..."),setTimeout((function(){setTimeout((function(){U.setStatus("")}),1),e()}),1)):e()))}if(Y(),U.___wasm_call_ctors=function(){return(U.___wasm_call_ctors=U.asm.__wasm_call_ctors).apply(null,arguments)},U.___errno_location=function(){return(U.___errno_location=U.asm.__errno_location).apply(null,arguments)},U._omalloc=function(){return(U._omalloc=U.asm.omalloc).apply(null,arguments)},U._ofree=function(){return(U._ofree=U.asm.ofree).apply(null,arguments)},U._getLastOnigError=function(){return(U._getLastOnigError=U.asm.getLastOnigError).apply(null,arguments)},U._createOnigScanner=function(){return(U._createOnigScanner=U.asm.createOnigScanner).apply(null,arguments)},U._freeOnigScanner=function(){return(U._freeOnigScanner=U.asm.freeOnigScanner).apply(null,arguments)},U._findNextOnigScannerMatch=function(){return(U._findNextOnigScannerMatch=U.asm.findNextOnigScannerMatch).apply(null,arguments)},U._findNextOnigScannerMatchDbg=function(){return(U._findNextOnigScannerMatchDbg=U.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},U.stackSave=function(){return(U.stackSave=U.asm.stackSave).apply(null,arguments)},U.stackRestore=function(){return(U.stackRestore=U.asm.stackRestore).apply(null,arguments)},U.stackAlloc=function(){return(U.stackAlloc=U.asm.stackAlloc).apply(null,arguments)},U.dynCall_jiji=function(){return(U.dynCall_jiji=U.asm.dynCall_jiji).apply(null,arguments)},U.UTF8ToString=b,me=function t(){ye||et(),ye||(me=t)},U.preInit)for("function"==typeof U.preInit&&(U.preInit=[U.preInit]);U.preInit.length>0;)U.preInit.pop()();return et(),B.ready});B.exports=D}},D={},function e(F){var U=D[F];if(void 0!==U)return U.exports;var W=D[F]={exports:{}};return B[F].call(W.exports,W,W.exports,e),W.exports}(770);var B,D}))})(D);var F={};var U={get exports(){return F},set exports(B){F=B}};(function(B,D){!function(D,F){B.exports=F()}(0,(function(){return(()=>{var B={350:(B,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.UseOnigurumaFindOptions=D.DebugFlags=void 0,D.DebugFlags={InDebugMode:"undefined"!=typeof process&&!!process.env.VSCODE_TEXTMATE_DEBUG},D.UseOnigurumaFindOptions=!1},36:(B,D)=>{var F;Object.defineProperty(D,"__esModule",{value:!0}),D.toOptionalTokenType=D.EncodedTokenAttributes=void 0,(F=D.EncodedTokenAttributes||(D.EncodedTokenAttributes={})).toBinaryStr=function(B){let D=B.toString(2);for(;D.length<32;)D="0"+D;return D},F.print=function(B){const D=F.getLanguageId(B),U=F.getTokenType(B),W=F.getFontStyle(B),H=F.getForeground(B),X=F.getBackground(B);console.log({languageId:D,tokenType:U,fontStyle:W,foreground:H,background:X})},F.getLanguageId=function(B){return(255&B)>>>0},F.getTokenType=function(B){return(768&B)>>>8},F.containsBalancedBrackets=function(B){return 0!=(1024&B)},F.getFontStyle=function(B){return(30720&B)>>>11},F.getForeground=function(B){return(16744448&B)>>>15},F.getBackground=function(B){return(4278190080&B)>>>24},F.set=function(B,D,U,W,H,X,ee){let te=F.getLanguageId(B),ne=F.getTokenType(B),se=F.containsBalancedBrackets(B)?1:0,ae=F.getFontStyle(B),re=F.getForeground(B),oe=F.getBackground(B);return 0!==D&&(te=D),8!==U&&(ne=U),null!==W&&(se=W?1:0),-1!==H&&(ae=H),0!==X&&(re=X),0!==ee&&(oe=ee),(te<<0|ne<<8|se<<10|ae<<11|re<<15|oe<<24)>>>0},D.toOptionalTokenType=function(B){return B}},996:(B,D,F)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.BasicScopeAttributesProvider=D.BasicScopeAttributes=void 0;const U=F(878);class r{constructor(B,D){this.languageId=B,this.tokenType=D}}D.BasicScopeAttributes=r;class i{constructor(B,D){this._getBasicScopeAttributes=new U.CachedFn((B=>{const D=this._scopeToLanguage(B),F=this._toStandardTokenType(B);return new r(D,F)})),this._defaultAttributes=new r(B,8),this._embeddedLanguagesMatcher=new o(Object.entries(D||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(B){return null===B?i._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(B)}_scopeToLanguage(B){return this._embeddedLanguagesMatcher.match(B)||0}_toStandardTokenType(B){const D=B.match(i.STANDARD_TOKEN_TYPE_REGEXP);if(!D)return 8;switch(D[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}D.BasicScopeAttributesProvider=i,i._NULL_SCOPE_METADATA=new r(0,0),i.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class o{constructor(B){if(0===B.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(B);const D=B.map((([B,D])=>U.escapeRegExpCharacters(B)));D.sort(),D.reverse(),this.scopesRegExp=new RegExp(`^((${D.join(")|(")}))($|\\.)`,"")}}match(B){if(!this.scopesRegExp)return;const D=B.match(this.scopesRegExp);return D?this.values.get(D[1]):void 0}}},947:(B,D,F)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.LineTokens=D.BalancedBracketSelectors=D.StateStack=D.AttributedScopeStack=D.Grammar=D.createGrammar=void 0;const U=F(350),W=F(36),H=F(736),X=F(44),ee=F(792),te=F(583),ne=F(878),se=F(996),ae=F(47);function p(B,D,F,U,W){const X=H.createMatchers(D,d),te=ee.RuleFactory.getCompiledRuleId(F,U,W.repository);for(const F of X)B.push({debugSelector:D,matcher:F.matcher,ruleId:te,grammar:W,priority:F.priority})}function d(B,D){if(D.length<B.length)return!1;let F=0;return B.every((B=>{for(let U=F;U<D.length;U++)if(f(D[U],B))return F=U+1,!0;return!1}))}function f(B,D){if(!B)return!1;if(B===D)return!0;const F=D.length;return B.length>F&&B.substr(0,F)===D&&"."===B[F]}D.createGrammar=function(B,D,F,U,W,H,X,ee){return new g(B,D,F,U,W,H,X,ee)};class g{constructor(B,D,F,U,W,X,ee,te){if(this._rootScopeName=B,this.balancedBracketSelectors=X,this._onigLib=te,this._basicScopeAttributesProvider=new se.BasicScopeAttributesProvider(F,U),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=ee,this._grammar=m(D,null),this._injections=null,this._tokenTypeMatchers=[],W)for(const B of Object.keys(W)){const D=H.createMatchers(B,d);for(const F of D)this._tokenTypeMatchers.push({matcher:F.matcher,type:W[B]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const B of this._ruleId2desc)B&&B.dispose()}createOnigScanner(B){return this._onigLib.createOnigScanner(B)}createOnigString(B){return this._onigLib.createOnigString(B)}getMetadataForScope(B){return this._basicScopeAttributesProvider.getBasicScopeAttributes(B)}_collectInjections(){const B=[],D=this._rootScopeName,F=(B=>B===this._rootScopeName?this._grammar:this.getExternalGrammar(B))(D);if(F){const U=F.injections;if(U)for(let D in U)p(B,D,U[D],this,F);const W=this._grammarRepository.injections(D);W&&W.forEach((D=>{const F=this.getExternalGrammar(D);if(F){const D=F.injectionSelector;D&&p(B,D,F,this,F)}}))}return B.sort(((B,D)=>B.priority-D.priority)),B}getInjections(){if(null===this._injections&&(this._injections=this._collectInjections(),U.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const B of this._injections)console.log(`  - ${B.debugSelector}`)}return this._injections}registerRule(B){const D=++this._lastRuleId,F=B(ee.ruleIdFromNumber(D));return this._ruleId2desc[D]=F,F}getRule(B){return this._ruleId2desc[ee.ruleIdToNumber(B)]}getExternalGrammar(B,D){if(this._includedGrammars[B])return this._includedGrammars[B];if(this._grammarRepository){const F=this._grammarRepository.lookup(B);if(F)return this._includedGrammars[B]=m(F,D&&D.$base),this._includedGrammars[B]}}tokenizeLine(B,D,F=0){const U=this._tokenize(B,D,!1,F);return{tokens:U.lineTokens.getResult(U.ruleStack,U.lineLength),ruleStack:U.ruleStack,stoppedEarly:U.stoppedEarly}}tokenizeLine2(B,D,F=0){const U=this._tokenize(B,D,!0,F);return{tokens:U.lineTokens.getBinaryResult(U.ruleStack,U.lineLength),ruleStack:U.ruleStack,stoppedEarly:U.stoppedEarly}}_tokenize(B,D,F,U){let H;if(-1===this._rootId&&(this._rootId=ee.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),D&&D!==b.NULL)H=!1,D.reset();else{H=!0;const B=this._basicScopeAttributesProvider.getDefaultAttributes(),F=this.themeProvider.getDefaults(),U=W.EncodedTokenAttributes.set(0,B.languageId,B.tokenType,null,F.fontStyle,F.foregroundId,F.backgroundId),X=this.getRule(this._rootId).getName(null,null);let ee;ee=X?_.createRootAndLookUpScopeName(X,U,this):_.createRoot("unknown",U),D=new b(null,this._rootId,-1,-1,!1,null,ee,ee)}B+="\n";const te=this.createOnigString(B),ne=te.content.length,se=new y(F,B,this._tokenTypeMatchers,this.balancedBracketSelectors),re=ae._tokenizeString(this,te,H,0,D,se,!0,U);return X.disposeOnigString(te),{lineLength:ne,lineTokens:se,ruleStack:re.stack,stoppedEarly:re.stoppedEarly}}}function m(B,D){return(B=ne.clone(B)).repository=B.repository||{},B.repository.$self={$vscodeTextmateLocation:B.$vscodeTextmateLocation,patterns:B.patterns,name:B.scopeName},B.repository.$base=D||B.repository.$self,B}D.Grammar=g;class _{constructor(B,D,F){this.parent=B,this.scopePath=D,this.tokenAttributes=F}static createRoot(B,D){return new _(null,new te.ScopeStack(null,B),D)}static createRootAndLookUpScopeName(B,D,F){const U=F.getMetadataForScope(B),W=new te.ScopeStack(null,B),H=F.themeProvider.themeMatch(W),X=_.mergeAttributes(D,U,H);return new _(null,W,X)}get scopeName(){return this.scopePath.scopeName}equals(B){return _._equals(this,B)}static _equals(B,D){for(;;){if(B===D)return!0;if(!B&&!D)return!0;if(!B||!D)return!1;if(B.scopeName!==D.scopeName||B.tokenAttributes!==D.tokenAttributes)return!1;B=B.parent,D=D.parent}}static mergeAttributes(B,D,F){let U=-1,H=0,X=0;return null!==F&&(U=F.fontStyle,H=F.foregroundId,X=F.backgroundId),W.EncodedTokenAttributes.set(B,D.languageId,D.tokenType,null,U,H,X)}pushAttributed(B,D){if(null===B)return this;if(-1===B.indexOf(" "))return _._pushAttributed(this,B,D);const F=B.split(/ /g);let U=this;for(const B of F)U=_._pushAttributed(U,B,D);return U}static _pushAttributed(B,D,F){const U=F.getMetadataForScope(D),W=B.scopePath.push(D),H=F.themeProvider.themeMatch(W),X=_.mergeAttributes(B.tokenAttributes,U,H);return new _(B,W,X)}getScopeNames(){return this.scopePath.getSegments()}}D.AttributedScopeStack=_;class b{constructor(B,D,F,U,W,H,X,ee){this.parent=B,this.ruleId=D,this.beginRuleCapturedEOL=W,this.endRule=H,this.nameScopesList=X,this.contentNameScopesList=ee,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=F,this._anchorPos=U}equals(B){return null!==B&&b._equals(this,B)}static _equals(B,D){return B===D||!!this._structuralEquals(B,D)&&B.contentNameScopesList.equals(D.contentNameScopesList)}static _structuralEquals(B,D){for(;;){if(B===D)return!0;if(!B&&!D)return!0;if(!B||!D)return!1;if(B.depth!==D.depth||B.ruleId!==D.ruleId||B.endRule!==D.endRule)return!1;B=B.parent,D=D.parent}}clone(){return this}static _reset(B){for(;B;)B._enterPos=-1,B._anchorPos=-1,B=B.parent}reset(){b._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(B,D,F,U,W,H,X){return new b(this,B,D,F,U,W,H,X)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(B){return B.getRule(this.ruleId)}toString(){const B=[];return this._writeString(B,0),"["+B.join(",")+"]"}_writeString(B,D){return this.parent&&(D=this.parent._writeString(B,D)),B[D++]=`(${this.ruleId}, TODO-${this.nameScopesList}, TODO-${this.contentNameScopesList})`,D}withContentNameScopesList(B){return this.contentNameScopesList===B?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,B)}withEndRule(B){return this.endRule===B?this:new b(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,B,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(B){let D=this;for(;D&&D._enterPos===B._enterPos;){if(D.ruleId===B.ruleId)return!0;D=D.parent}return!1}}D.StateStack=b,b.NULL=new b(null,0,0,0,!1,null,null,null),D.BalancedBracketSelectors=class{constructor(B,D){this.allowAny=!1,this.balancedBracketScopes=B.flatMap((B=>"*"===B?(this.allowAny=!0,[]):H.createMatchers(B,d).map((B=>B.matcher)))),this.unbalancedBracketScopes=D.flatMap((B=>H.createMatchers(B,d).map((B=>B.matcher))))}get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(B){for(const D of this.unbalancedBracketScopes)if(D(B))return!1;for(const D of this.balancedBracketScopes)if(D(B))return!0;return this.allowAny}};class y{constructor(B,D,F,W){this.balancedBracketSelectors=W,this._emitBinaryTokens=B,this._tokenTypeOverrides=F,U.DebugFlags.InDebugMode?this._lineText=D:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(B,D){this.produceFromScopes(B.contentNameScopesList,D)}produceFromScopes(B,D){if(this._lastTokenEndIndex>=D)return;if(this._emitBinaryTokens){let F=B.tokenAttributes,H=!1;if(this.balancedBracketSelectors?.matchesAlways&&(H=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const D=B.getScopeNames();for(const B of this._tokenTypeOverrides)B.matcher(D)&&(F=W.EncodedTokenAttributes.set(F,0,W.toOptionalTokenType(B.type),null,-1,0,0));this.balancedBracketSelectors&&(H=this.balancedBracketSelectors.match(D))}if(H&&(F=W.EncodedTokenAttributes.set(F,0,8,H,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===F)return void(this._lastTokenEndIndex=D);if(U.DebugFlags.InDebugMode){const F=B.getScopeNames();console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,D).replace(/\n$/,"\\n")+"|");for(let B=0;B<F.length;B++)console.log("      * "+F[B])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(F),void(this._lastTokenEndIndex=D)}const F=B.getScopeNames();if(U.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,D).replace(/\n$/,"\\n")+"|");for(let B=0;B<F.length;B++)console.log("      * "+F[B])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:D,scopes:F}),this._lastTokenEndIndex=D}getResult(B,D){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===D-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(B,D),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(B,D){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===D-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(B,D),this._binaryTokens[this._binaryTokens.length-2]=0);const F=new Uint32Array(this._binaryTokens.length);for(let B=0,D=this._binaryTokens.length;B<D;B++)F[B]=this._binaryTokens[B];return F}}D.LineTokens=y},965:(B,D,F)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.parseInclude=D.TopLevelRepositoryReference=D.TopLevelReference=D.RelativeReference=D.SelfReference=D.BaseReference=D.ScopeDependencyProcessor=D.ExternalReferenceCollector=D.TopLevelRepositoryRuleReference=D.TopLevelRuleReference=void 0;const U=F(878);class r{constructor(B){this.scopeName=B}toKey(){return this.scopeName}}D.TopLevelRuleReference=r;class i{constructor(B,D){this.scopeName=B,this.ruleName=D}toKey(){return`${this.scopeName}#${this.ruleName}`}}D.TopLevelRepositoryRuleReference=i;class o{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(B){const D=B.toKey();this._seenReferenceKeys.has(D)||(this._seenReferenceKeys.add(D),this._references.push(B))}}function c(B,D,F,U){const W=F.lookup(B.scopeName);if(!W){if(B.scopeName===D)throw new Error(`No grammar provided for <${D}>`);return}const H=F.lookup(D);B instanceof r?l({baseGrammar:H,selfGrammar:W},U):a(B.ruleName,{baseGrammar:H,selfGrammar:W,repository:W.repository},U);const X=F.injections(B.scopeName);if(X)for(const B of X)U.add(new r(B))}function a(B,D,F){D.repository&&D.repository[B]&&u([D.repository[B]],D,F)}function l(B,D){B.selfGrammar.patterns&&Array.isArray(B.selfGrammar.patterns)&&u(B.selfGrammar.patterns,{...B,repository:B.selfGrammar.repository},D),B.selfGrammar.injections&&u(Object.values(B.selfGrammar.injections),{...B,repository:B.selfGrammar.repository},D)}function u(B,D,F){for(const W of B){if(F.visitedRule.has(W))continue;F.visitedRule.add(W);const B=W.repository?U.mergeObjects({},D.repository,W.repository):D.repository;Array.isArray(W.patterns)&&u(W.patterns,{...D,repository:B},F);const H=W.include;if(!H)continue;const X=m(H);switch(X.kind){case 0:l({...D,selfGrammar:D.baseGrammar},F);break;case 1:l(D,F);break;case 2:a(X.ruleName,{...D,repository:B},F);break;case 3:case 4:const U=X.scopeName===D.selfGrammar.scopeName?D.selfGrammar:X.scopeName===D.baseGrammar.scopeName?D.baseGrammar:void 0;if(U){const W={baseGrammar:D.baseGrammar,selfGrammar:U,repository:B};4===X.kind?a(X.ruleName,W,F):l(W,F)}else 4===X.kind?F.add(new i(X.scopeName,X.ruleName)):F.add(new r(X.scopeName))}}}D.ExternalReferenceCollector=o,D.ScopeDependencyProcessor=class{constructor(B,D){this.repo=B,this.initialScopeName=D,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new r(this.initialScopeName)]}processQueue(){const B=this.Q;this.Q=[];const D=new o;for(const F of B)c(F,this.initialScopeName,this.repo,D);for(const B of D.references)if(B instanceof r){if(this.seenFullScopeRequests.has(B.scopeName))continue;this.seenFullScopeRequests.add(B.scopeName),this.Q.push(B)}else{if(this.seenFullScopeRequests.has(B.scopeName))continue;if(this.seenPartialScopeRequests.has(B.toKey()))continue;this.seenPartialScopeRequests.add(B.toKey()),this.Q.push(B)}}};class h{constructor(){this.kind=0}}D.BaseReference=h;class p{constructor(){this.kind=1}}D.SelfReference=p;class d{constructor(B){this.ruleName=B,this.kind=2}}D.RelativeReference=d;class f{constructor(B){this.scopeName=B,this.kind=3}}D.TopLevelReference=f;class g{constructor(B,D){this.scopeName=B,this.ruleName=D,this.kind=4}}function m(B){if("$base"===B)return new h;if("$self"===B)return new p;const D=B.indexOf("#");if(-1===D)return new f(B);if(0===D)return new d(B.substring(1));{const F=B.substring(0,D),U=B.substring(D+1);return new g(F,U)}}D.TopLevelRepositoryReference=g,D.parseInclude=m},391:function(B,D,F){var U=this&&this.__createBinding||(Object.create?function(B,D,F,U){void 0===U&&(U=F),Object.defineProperty(B,U,{enumerable:!0,get:function(){return D[F]}})}:function(B,D,F,U){void 0===U&&(U=F),B[U]=D[F]}),W=this&&this.__exportStar||function(B,D){for(var F in B)"default"===F||Object.prototype.hasOwnProperty.call(D,F)||U(D,B,F)};Object.defineProperty(D,"__esModule",{value:!0}),W(F(947),D)},47:(B,D,F)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.LocalStackElement=D._tokenizeString=void 0;const U=F(350),W=F(44),H=F(792),X=F(878);class c{constructor(B,D){this.stack=B,this.stoppedEarly=D}}function a(B,D,F,W,ee,te,ne,se){const ae=D.content.length;let re=!1,oe=-1;if(ne){const X=function(B,D,F,W,X,ee){let te=X.beginRuleCapturedEOL?0:-1;const ne=[];for(let D=X;D;D=D.pop()){const F=D.getRule(B);F instanceof H.BeginWhileRule&&ne.push({rule:F,stack:D})}for(let se=ne.pop();se;se=ne.pop()){const{ruleScanner:ne,findOptions:ae}=u(se.rule,B,se.stack.endRule,F,W===te),re=ne.findNextMatchSync(D,W,ae);if(U.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(ne.toString())),!re){U.DebugFlags.InDebugMode&&console.log("  popping "+se.rule.debugName+" - "+se.rule.debugWhileRegExp),X=se.stack.pop();break}if(re.ruleId!==H.whileRuleId){X=se.stack.pop();break}re.captureIndices&&re.captureIndices.length&&(ee.produce(se.stack,re.captureIndices[0].start),p(B,D,F,se.stack,ee,se.rule.whileCaptures,re.captureIndices),ee.produce(se.stack,re.captureIndices[0].end),te=re.captureIndices[0].end,re.captureIndices[0].end>W&&(W=re.captureIndices[0].end,F=!1))}return{stack:X,linePos:W,anchorPosition:te,isFirstLine:F}}(B,D,F,W,ee,te);ee=X.stack,W=X.linePos,F=X.isFirstLine,oe=X.anchorPosition}const ie=Date.now();for(;!re;){if(0!==se&&Date.now()-ie>se)return new c(ee,!0);y()}return new c(ee,!1);function y(){U.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${W}: |${D.content.substr(W).replace(/\n$/,"\\n")}|`));const ne=function(B,D,F,W,H,ee){const te=function(B,D,F,W,H,ee){const te=H.getRule(B),{ruleScanner:ne,findOptions:se}=l(te,B,H.endRule,F,W===ee);let ae=0;U.DebugFlags.InDebugMode&&(ae=X.performanceNow());const re=ne.findNextMatchSync(D,W,se);if(U.DebugFlags.InDebugMode){const B=X.performanceNow()-ae;B>5&&console.warn(`Rule ${te.debugName} (${te.id}) matching took ${B} against '${D}'`),console.log(`  scanning for (linePos: ${W}, anchorPosition: ${ee})`),console.log(ne.toString()),re&&console.log(`matched rule id: ${re.ruleId} from ${re.captureIndices[0].start} to ${re.captureIndices[0].end}`)}return re?{captureIndices:re.captureIndices,matchedRuleId:re.ruleId}:null}(B,D,F,W,H,ee),ne=B.getInjections();if(0===ne.length)return te;const se=function(B,D,F,W,H,X,ee){let te,ne=Number.MAX_VALUE,se=null,ae=0;const re=X.contentNameScopesList.getScopeNames();for(let X=0,oe=B.length;X<oe;X++){const oe=B[X];if(!oe.matcher(re))continue;const ie=D.getRule(oe.ruleId),{ruleScanner:ce,findOptions:le}=l(ie,D,null,W,H===ee),ue=ce.findNextMatchSync(F,H,le);if(!ue)continue;U.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${oe.debugSelector}`),console.log(ce.toString()));const he=ue.captureIndices[0].start;if(!(he>=ne)&&(ne=he,se=ue.captureIndices,te=ue.ruleId,ae=oe.priority,ne===H))break}return se?{priorityMatch:-1===ae,captureIndices:se,matchedRuleId:te}:null}(ne,B,D,F,W,H,ee);if(!se)return te;if(!te)return se;const ae=te.captureIndices[0].start,re=se.captureIndices[0].start;return re<ae||se.priorityMatch&&re===ae?se:te}(B,D,F,W,ee,oe);if(!ne)return U.DebugFlags.InDebugMode&&console.log("  no more matches."),te.produce(ee,ae),void(re=!0);const se=ne.captureIndices,ie=ne.matchedRuleId,ce=!!(se&&se.length>0)&&se[0].end>W;if(ie===H.endRuleId){const H=ee.getRule(B);U.DebugFlags.InDebugMode&&console.log("  popping "+H.debugName+" - "+H.debugEndRegExp),te.produce(ee,se[0].start),ee=ee.withContentNameScopesList(ee.nameScopesList),p(B,D,F,ee,te,H.endCaptures,se),te.produce(ee,se[0].end);const X=ee;if(ee=ee.parent,oe=X.getAnchorPos(),!ce&&X.getEnterPos()===W)return U.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),ee=X,te.produce(ee,ae),void(re=!0)}else{const X=B.getRule(ie);te.produce(ee,se[0].start);const ne=ee,le=X.getName(D.content,se),ue=ee.contentNameScopesList.pushAttributed(le,B);if(ee=ee.push(ie,W,oe,se[0].end===ae,null,ue,ue),X instanceof H.BeginEndRule){const W=X;U.DebugFlags.InDebugMode&&console.log("  pushing "+W.debugName+" - "+W.debugBeginRegExp),p(B,D,F,ee,te,W.beginCaptures,se),te.produce(ee,se[0].end),oe=se[0].end;const H=W.getContentName(D.content,se),ie=ue.pushAttributed(H,B);if(ee=ee.withContentNameScopesList(ie),W.endHasBackReferences&&(ee=ee.withEndRule(W.getEndWithResolvedBackReferences(D.content,se))),!ce&&ne.hasSameRuleAs(ee))return U.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ee=ee.pop(),te.produce(ee,ae),void(re=!0)}else if(X instanceof H.BeginWhileRule){const W=X;U.DebugFlags.InDebugMode&&console.log("  pushing "+W.debugName),p(B,D,F,ee,te,W.beginCaptures,se),te.produce(ee,se[0].end),oe=se[0].end;const H=W.getContentName(D.content,se),ie=ue.pushAttributed(H,B);if(ee=ee.withContentNameScopesList(ie),W.whileHasBackReferences&&(ee=ee.withEndRule(W.getWhileWithResolvedBackReferences(D.content,se))),!ce&&ne.hasSameRuleAs(ee))return U.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ee=ee.pop(),te.produce(ee,ae),void(re=!0)}else{const W=X;if(U.DebugFlags.InDebugMode&&console.log("  matched "+W.debugName+" - "+W.debugMatchRegExp),p(B,D,F,ee,te,W.captures,se),te.produce(ee,se[0].end),ee=ee.pop(),!ce)return U.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),ee=ee.safePop(),te.produce(ee,ae),void(re=!0)}}se[0].end>W&&(W=se[0].end,F=!1)}}function l(B,D,F,W,H){return U.UseOnigurumaFindOptions?{ruleScanner:B.compile(D,F),findOptions:h(W,H)}:{ruleScanner:B.compileAG(D,F,W,H),findOptions:0}}function u(B,D,F,W,H){return U.UseOnigurumaFindOptions?{ruleScanner:B.compileWhile(D,F),findOptions:h(W,H)}:{ruleScanner:B.compileWhileAG(D,F,W,H),findOptions:0}}function h(B,D){let F=0;return B||(F|=1),D||(F|=4),F}function p(B,D,F,U,H,X,ee){if(0===X.length)return;const te=D.content,ne=Math.min(X.length,ee.length),se=[],ae=ee[0].end;for(let D=0;D<ne;D++){const ne=X[D];if(null===ne)continue;const re=ee[D];if(0===re.length)continue;if(re.start>ae)break;for(;se.length>0&&se[se.length-1].endPos<=re.start;)H.produceFromScopes(se[se.length-1].scopes,se[se.length-1].endPos),se.pop();if(se.length>0?H.produceFromScopes(se[se.length-1].scopes,re.start):H.produce(U,re.start),ne.retokenizeCapturedWithRuleId){const D=ne.getName(te,ee),X=U.contentNameScopesList.pushAttributed(D,B),se=ne.getContentName(te,ee),ae=X.pushAttributed(se,B),oe=U.push(ne.retokenizeCapturedWithRuleId,re.start,-1,!1,null,X,ae),ie=B.createOnigString(te.substring(0,re.end));a(B,ie,F&&0===re.start,re.start,oe,H,!1,0),W.disposeOnigString(ie);continue}const oe=ne.getName(te,ee);if(null!==oe){const D=(se.length>0?se[se.length-1].scopes:U.contentNameScopesList).pushAttributed(oe,B);se.push(new d(D,re.end))}}for(;se.length>0;)H.produceFromScopes(se[se.length-1].scopes,se[se.length-1].endPos),se.pop()}D._tokenizeString=a;class d{constructor(B,D){this.scopes=B,this.endPos=D}}D.LocalStackElement=d},974:(B,D)=>{function n(B,D){throw new Error("Near offset "+B.pos+": "+D+" ~~~"+B.source.substr(B.pos,50)+"~~~")}Object.defineProperty(D,"__esModule",{value:!0}),D.parseJSON=void 0,D.parseJSON=function(B,D,F){let U=new s(B),W=new r,H=0,X=null,ee=[],te=[];function d(){ee.push(H),te.push(X)}function f(){H=ee.pop(),X=te.pop()}function g(B){n(U,B)}for(;i(U,W);){if(0===H){if(null!==X&&g("too many constructs in root"),3===W.type){X={},F&&(X.$vscodeTextmateLocation=W.toLocation(D)),d(),H=1;continue}if(2===W.type){X=[],d(),H=4;continue}g("unexpected token in root")}if(2===H){if(5===W.type){f();continue}if(7===W.type){H=3;continue}g("expected , or }")}if(1===H||3===H){if(1===H&&5===W.type){f();continue}if(1===W.type){let B=W.value;if(i(U,W)&&6===W.type||g("expected colon"),i(U,W)||g("expected value"),H=2,1===W.type){X[B]=W.value;continue}if(8===W.type){X[B]=null;continue}if(9===W.type){X[B]=!0;continue}if(10===W.type){X[B]=!1;continue}if(11===W.type){X[B]=parseFloat(W.value);continue}if(2===W.type){let D=[];X[B]=D,d(),H=4,X=D;continue}if(3===W.type){let U={};F&&(U.$vscodeTextmateLocation=W.toLocation(D)),X[B]=U,d(),H=1,X=U;continue}}g("unexpected token in dict")}if(5===H){if(4===W.type){f();continue}if(7===W.type){H=6;continue}g("expected , or ]")}if(4===H||6===H){if(4===H&&4===W.type){f();continue}if(H=5,1===W.type){X.push(W.value);continue}if(8===W.type){X.push(null);continue}if(9===W.type){X.push(!0);continue}if(10===W.type){X.push(!1);continue}if(11===W.type){X.push(parseFloat(W.value));continue}if(2===W.type){let B=[];X.push(B),d(),H=4,X=B;continue}if(3===W.type){let B={};F&&(B.$vscodeTextmateLocation=W.toLocation(D)),X.push(B),d(),H=1,X=B;continue}g("unexpected token in array")}g("unknown state")}return 0!==te.length&&g("unclosed constructs"),X};class s{constructor(B){this.source=B,this.pos=0,this.len=B.length,this.line=1,this.char=0}}class r{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(B){return{filename:B,line:this.line,char:this.char}}}function i(B,D){D.value=null,D.type=0,D.offset=-1,D.len=-1,D.line=-1,D.char=-1;let F,U=B.source,W=B.pos,H=B.len,X=B.line,ee=B.char;for(;;){if(W>=H)return!1;if(F=U.charCodeAt(W),32!==F&&9!==F&&13!==F){if(10!==F)break;W++,X++,ee=0}else W++,ee++}if(D.offset=W,D.line=X,D.char=ee,34===F){for(D.type=1,W++,ee++;;){if(W>=H)return!1;if(F=U.charCodeAt(W),W++,ee++,92!==F){if(34===F)break}else W++,ee++}D.value=U.substring(D.offset+1,W-1).replace(/\\u([0-9A-Fa-f]{4})/g,((B,D)=>String.fromCodePoint(parseInt(D,16)))).replace(/\\(.)/g,((D,F)=>{switch(F){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:n(B,"invalid escape sequence")}throw new Error("unreachable")}))}else if(91===F)D.type=2,W++,ee++;else if(123===F)D.type=3,W++,ee++;else if(93===F)D.type=4,W++,ee++;else if(125===F)D.type=5,W++,ee++;else if(58===F)D.type=6,W++,ee++;else if(44===F)D.type=7,W++,ee++;else if(110===F){if(D.type=8,W++,ee++,F=U.charCodeAt(W),117!==F)return!1;if(W++,ee++,F=U.charCodeAt(W),108!==F)return!1;if(W++,ee++,F=U.charCodeAt(W),108!==F)return!1;W++,ee++}else if(116===F){if(D.type=9,W++,ee++,F=U.charCodeAt(W),114!==F)return!1;if(W++,ee++,F=U.charCodeAt(W),117!==F)return!1;if(W++,ee++,F=U.charCodeAt(W),101!==F)return!1;W++,ee++}else if(102===F){if(D.type=10,W++,ee++,F=U.charCodeAt(W),97!==F)return!1;if(W++,ee++,F=U.charCodeAt(W),108!==F)return!1;if(W++,ee++,F=U.charCodeAt(W),115!==F)return!1;if(W++,ee++,F=U.charCodeAt(W),101!==F)return!1;W++,ee++}else for(D.type=11;;){if(W>=H)return!1;if(F=U.charCodeAt(W),!(46===F||F>=48&&F<=57||101===F||69===F||45===F||43===F))break;W++,ee++}return D.len=W-D.offset,null===D.value&&(D.value=U.substr(D.offset,D.len)),B.pos=W,B.line=X,B.char=ee,!0}},787:function(B,D,F){var U=this&&this.__createBinding||(Object.create?function(B,D,F,U){void 0===U&&(U=F),Object.defineProperty(B,U,{enumerable:!0,get:function(){return D[F]}})}:function(B,D,F,U){void 0===U&&(U=F),B[U]=D[F]}),W=this&&this.__exportStar||function(B,D){for(var F in B)"default"===F||Object.prototype.hasOwnProperty.call(D,F)||U(D,B,F)};Object.defineProperty(D,"__esModule",{value:!0}),D.parseRawGrammar=D.INITIAL=D.Registry=void 0;const H=F(391),X=F(50),ee=F(652),te=F(583),ne=F(965);W(F(44),D),D.Registry=class{constructor(B){this._options=B,this._syncRegistry=new ee.SyncRegistry(te.Theme.createFromRawTheme(B.theme,B.colorMap),B.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(B,D){this._syncRegistry.setTheme(te.Theme.createFromRawTheme(B,D))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(B,D,F){return this.loadGrammarWithConfiguration(B,D,{embeddedLanguages:F})}loadGrammarWithConfiguration(B,D,F){return this._loadGrammar(B,D,F.embeddedLanguages,F.tokenTypes,new H.BalancedBracketSelectors(F.balancedBracketSelectors||[],F.unbalancedBracketSelectors||[]))}loadGrammar(B){return this._loadGrammar(B,0,null,null,null)}async _loadGrammar(B,D,F,U,W){const H=new ne.ScopeDependencyProcessor(this._syncRegistry,B);for(;H.Q.length>0;)await Promise.all(H.Q.map((B=>this._loadSingleGrammar(B.scopeName)))),H.processQueue();return this._grammarForScopeName(B,D,F,U,W)}async _loadSingleGrammar(B){return this._ensureGrammarCache.has(B)||this._ensureGrammarCache.set(B,this._doLoadSingleGrammar(B)),this._ensureGrammarCache.get(B)}async _doLoadSingleGrammar(B){const D=await this._options.loadGrammar(B);if(D){const F="function"==typeof this._options.getInjections?this._options.getInjections(B):void 0;this._syncRegistry.addGrammar(D,F)}}async addGrammar(B,D=[],F=0,U=null){return this._syncRegistry.addGrammar(B,D),await this._grammarForScopeName(B.scopeName,F,U)}_grammarForScopeName(B,D=0,F=null,U=null,W=null){return this._syncRegistry.grammarForScopeName(B,D,F,U,W)}},D.INITIAL=H.StateStack.NULL,D.parseRawGrammar=X.parseRawGrammar},736:(B,D)=>{function n(B){return!!B&&!!B.match(/[\w\.:]+/)}Object.defineProperty(D,"__esModule",{value:!0}),D.createMatchers=void 0,D.createMatchers=function(B,D){const F=[],U=function(B){let D=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,F=D.exec(B);return{next:()=>{if(!F)return null;const U=F[0];return F=D.exec(B),U}}}(B);let W=U.next();for(;null!==W;){let B=0;if(2===W.length&&":"===W.charAt(1)){switch(W.charAt(0)){case"R":B=1;break;case"L":B=-1;break;default:console.log(`Unknown priority ${W} in scope selector`)}W=U.next()}let D=c();if(F.push({matcher:D,priority:B}),","!==W)break;W=U.next()}return F;function o(){if("-"===W){W=U.next();const B=o();return D=>!!B&&!B(D)}if("("===W){W=U.next();const B=function(){const B=[];let D=c();for(;D&&(B.push(D),"|"===W||","===W);){do{W=U.next()}while("|"===W||","===W);D=c()}return D=>B.some((B=>B(D)))}();return")"===W&&(W=U.next()),B}if(n(W)){const B=[];do{B.push(W),W=U.next()}while(n(W));return F=>D(B,F)}return null}function c(){const B=[];let D=o();for(;D;)B.push(D),D=o();return D=>B.every((B=>B(D)))}}},44:(B,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.disposeOnigString=void 0,D.disposeOnigString=function(B){"function"==typeof B.dispose&&B.dispose()}},50:(B,D,F)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.parseRawGrammar=void 0;const U=F(69),W=F(350),H=F(974);D.parseRawGrammar=function(B,D=null){return null!==D&&/\.json$/.test(D)?(F=B,X=D,W.DebugFlags.InDebugMode?H.parseJSON(F,X,!0):JSON.parse(F)):function(B,D){return W.DebugFlags.InDebugMode?U.parseWithLocation(B,D,"$vscodeTextmateLocation"):U.parsePLIST(B)}(B,D);var F,X}},69:(B,D)=>{function n(B,D,F){const U=B.length;let W=0,H=1,X=0;function c(D){if(null===F)W+=D;else for(;D>0;)10===B.charCodeAt(W)?(W++,H++,X=0):(W++,X++),D--}function a(B){null===F?W=B:c(B-W)}function l(){for(;W<U;){let D=B.charCodeAt(W);if(32!==D&&9!==D&&13!==D&&10!==D)break;c(1)}}function u(D){return B.substr(W,D.length)===D&&(c(D.length),!0)}function h(D){let F=B.indexOf(D,W);a(-1!==F?F+D.length:U)}function p(D){let F=B.indexOf(D,W);if(-1!==F){let U=B.substring(W,F);return a(F+D.length),U}{let D=B.substr(W);return a(U),D}}U>0&&65279===B.charCodeAt(0)&&(W=1);let ee=0,te=null,ne=[],se=[],ae=null;function b(B,D){ne.push(ee),se.push(te),ee=B,te=D}function y(){if(0===ne.length)return S("illegal state stack");ee=ne.pop(),te=se.pop()}function S(D){throw new Error("Near offset "+W+": "+D+" ~~~"+B.substr(W,50)+"~~~")}const k=function(){if(null===ae)return S("missing <key>");let B={};null!==F&&(B[F]={filename:D,line:H,char:X}),te[ae]=B,ae=null,b(1,B)},C=function(){if(null===ae)return S("missing <key>");let B=[];te[ae]=B,ae=null,b(2,B)},R=function(){let B={};null!==F&&(B[F]={filename:D,line:H,char:X}),te.push(B),b(1,B)},A=function(){let B=[];te.push(B),b(2,B)};function w(){if(1!==ee)return S("unexpected </dict>");y()}function P(){return 1===ee||2!==ee?S("unexpected </array>"):void y()}function I(B){if(1===ee){if(null===ae)return S("missing <key>");te[ae]=B,ae=null}else 2===ee?te.push(B):te=B}function v(B){if(isNaN(B))return S("cannot parse float");if(1===ee){if(null===ae)return S("missing <key>");te[ae]=B,ae=null}else 2===ee?te.push(B):te=B}function N(B){if(isNaN(B))return S("cannot parse integer");if(1===ee){if(null===ae)return S("missing <key>");te[ae]=B,ae=null}else 2===ee?te.push(B):te=B}function T(B){if(1===ee){if(null===ae)return S("missing <key>");te[ae]=B,ae=null}else 2===ee?te.push(B):te=B}function x(B){if(1===ee){if(null===ae)return S("missing <key>");te[ae]=B,ae=null}else 2===ee?te.push(B):te=B}function G(B){if(1===ee){if(null===ae)return S("missing <key>");te[ae]=B,ae=null}else 2===ee?te.push(B):te=B}function E(){let B=p(">"),D=!1;return 47===B.charCodeAt(B.length-1)&&(D=!0,B=B.substring(0,B.length-1)),{name:B.trim(),isClosed:D}}function L(B){if(B.isClosed)return"";let D=p("</");return h(">"),D.replace(/&#([0-9]+);/g,(function(B,D){return String.fromCodePoint(parseInt(D,10))})).replace(/&#x([0-9a-f]+);/g,(function(B,D){return String.fromCodePoint(parseInt(D,16))})).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,(function(B){switch(B){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return B}))}for(;W<U&&(l(),!(W>=U));){const ne=B.charCodeAt(W);if(c(1),60!==ne)return S("expected <");if(W>=U)return S("unexpected end of input");const se=B.charCodeAt(W);if(63===se){c(1),h("?>");continue}if(33===se){if(c(1),u("--")){h("--\x3e");continue}h(">");continue}if(47===se){if(c(1),l(),u("plist")){h(">");continue}if(u("dict")){h(">"),w();continue}if(u("array")){h(">"),P();continue}return S("unexpected closed tag")}let oe=E();switch(oe.name){case"dict":1===ee?k():2===ee?R():(te={},null!==F&&(te[F]={filename:D,line:H,char:X}),b(1,te)),oe.isClosed&&w();continue;case"array":1===ee?C():2===ee?A():(te=[],b(2,te)),oe.isClosed&&P();continue;case"key":re=L(oe),1!==ee?S("unexpected <key>"):null!==ae?S("too many <key>"):ae=re;continue;case"string":I(L(oe));continue;case"real":v(parseFloat(L(oe)));continue;case"integer":N(parseInt(L(oe),10));continue;case"date":T(new Date(L(oe)));continue;case"data":x(L(oe));continue;case"true":L(oe),G(!0);continue;case"false":L(oe),G(!1);continue}if(!/^plist/.test(oe.name))return S("unexpected opened tag "+oe.name)}var re;return te}Object.defineProperty(D,"__esModule",{value:!0}),D.parsePLIST=D.parseWithLocation=void 0,D.parseWithLocation=function(B,D,F){return n(B,D,F)},D.parsePLIST=function(B){return n(B,null,null)}},652:(B,D,F)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.SyncRegistry=void 0;const U=F(391);D.SyncRegistry=class{constructor(B,D){this._onigLibPromise=D,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=B}dispose(){for(const B of this._grammars.values())B.dispose()}setTheme(B){this._theme=B}getColorMap(){return this._theme.getColorMap()}addGrammar(B,D){this._rawGrammars.set(B.scopeName,B),D&&this._injectionGrammars.set(B.scopeName,D)}lookup(B){return this._rawGrammars.get(B)}injections(B){return this._injectionGrammars.get(B)}getDefaults(){return this._theme.getDefaults()}themeMatch(B){return this._theme.match(B)}async grammarForScopeName(B,D,F,W,H){if(!this._grammars.has(B)){let X=this._rawGrammars.get(B);if(!X)return null;this._grammars.set(B,U.createGrammar(B,X,D,F,W,H,this,await this._onigLibPromise))}return this._grammars.get(B)}}},792:(B,D,F)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.CompiledRule=D.RegExpSourceList=D.RegExpSource=D.RuleFactory=D.BeginWhileRule=D.BeginEndRule=D.IncludeOnlyRule=D.MatchRule=D.CaptureRule=D.Rule=D.ruleIdToNumber=D.ruleIdFromNumber=D.whileRuleId=D.endRuleId=void 0;const U=F(878),W=F(965),H=/\\(\d+)/,X=/\\(\d+)/g;D.endRuleId=-1,D.whileRuleId=-2,D.ruleIdFromNumber=function(B){return B},D.ruleIdToNumber=function(B){return B};class c{constructor(B,D,F,W){this.$location=B,this.id=D,this._name=F||null,this._nameIsCapturing=U.RegexSource.hasCaptures(this._name),this._contentName=W||null,this._contentNameIsCapturing=U.RegexSource.hasCaptures(this._contentName)}get debugName(){const B=this.$location?`${U.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${B}`}getName(B,D){return this._nameIsCapturing&&null!==this._name&&null!==B&&null!==D?U.RegexSource.replaceCaptures(this._name,B,D):this._name}getContentName(B,D){return this._contentNameIsCapturing&&null!==this._contentName?U.RegexSource.replaceCaptures(this._contentName,B,D):this._contentName}}D.Rule=c;class a extends c{constructor(B,D,F,U,W){super(B,D,F,U),this.retokenizeCapturedWithRuleId=W}dispose(){}collectPatterns(B,D){throw new Error("Not supported!")}compile(B,D){throw new Error("Not supported!")}compileAG(B,D,F,U){throw new Error("Not supported!")}}D.CaptureRule=a;class l extends c{constructor(B,D,F,U,W){super(B,D,F,null),this._match=new f(U,this.id),this.captures=W,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(B,D){D.push(this._match)}compile(B,D){return this._getCachedCompiledPatterns(B).compile(B)}compileAG(B,D,F,U){return this._getCachedCompiledPatterns(B).compileAG(B,F,U)}_getCachedCompiledPatterns(B){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new g,this.collectPatterns(B,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}D.MatchRule=l;class u extends c{constructor(B,D,F,U,W){super(B,D,F,U),this.patterns=W.patterns,this.hasMissingPatterns=W.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(B,D){for(const F of this.patterns)B.getRule(F).collectPatterns(B,D)}compile(B,D){return this._getCachedCompiledPatterns(B).compile(B)}compileAG(B,D,F,U){return this._getCachedCompiledPatterns(B).compileAG(B,F,U)}_getCachedCompiledPatterns(B){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new g,this.collectPatterns(B,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}D.IncludeOnlyRule=u;class h extends c{constructor(B,D,F,U,W,H,X,ee,te,ne){super(B,D,F,U),this._begin=new f(W,this.id),this.beginCaptures=H,this._end=new f(X||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=ee,this.applyEndPatternLast=te||!1,this.patterns=ne.patterns,this.hasMissingPatterns=ne.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(B,D){return this._end.resolveBackReferences(B,D)}collectPatterns(B,D){D.push(this._begin)}compile(B,D){return this._getCachedCompiledPatterns(B,D).compile(B)}compileAG(B,D,F,U){return this._getCachedCompiledPatterns(B,D).compileAG(B,F,U)}_getCachedCompiledPatterns(B,D){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new g;for(const D of this.patterns)B.getRule(D).collectPatterns(B,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,D):this._cachedCompiledPatterns.setSource(0,D)),this._cachedCompiledPatterns}}D.BeginEndRule=h;class p extends c{constructor(B,F,U,W,H,X,ee,te,ne){super(B,F,U,W),this._begin=new f(H,this.id),this.beginCaptures=X,this.whileCaptures=te,this._while=new f(ee,D.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=ne.patterns,this.hasMissingPatterns=ne.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(B,D){return this._while.resolveBackReferences(B,D)}collectPatterns(B,D){D.push(this._begin)}compile(B,D){return this._getCachedCompiledPatterns(B).compile(B)}compileAG(B,D,F,U){return this._getCachedCompiledPatterns(B).compileAG(B,F,U)}_getCachedCompiledPatterns(B){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new g;for(const D of this.patterns)B.getRule(D).collectPatterns(B,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(B,D){return this._getCachedCompiledWhilePatterns(B,D).compile(B)}compileWhileAG(B,D,F,U){return this._getCachedCompiledWhilePatterns(B,D).compileAG(B,F,U)}_getCachedCompiledWhilePatterns(B,D){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new g,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,D||"￿"),this._cachedCompiledWhilePatterns}}D.BeginWhileRule=p;class d{static createCaptureRule(B,D,F,U,W){return B.registerRule((B=>new a(D,B,F,U,W)))}static getCompiledRuleId(B,D,F){return B.id||D.registerRule((W=>{if(B.id=W,B.match)return new l(B.$vscodeTextmateLocation,B.id,B.name,B.match,d._compileCaptures(B.captures,D,F));if(void 0===B.begin){B.repository&&(F=U.mergeObjects({},F,B.repository));let W=B.patterns;return void 0===W&&B.include&&(W=[{include:B.include}]),new u(B.$vscodeTextmateLocation,B.id,B.name,B.contentName,d._compilePatterns(W,D,F))}return B.while?new p(B.$vscodeTextmateLocation,B.id,B.name,B.contentName,B.begin,d._compileCaptures(B.beginCaptures||B.captures,D,F),B.while,d._compileCaptures(B.whileCaptures||B.captures,D,F),d._compilePatterns(B.patterns,D,F)):new h(B.$vscodeTextmateLocation,B.id,B.name,B.contentName,B.begin,d._compileCaptures(B.beginCaptures||B.captures,D,F),B.end,d._compileCaptures(B.endCaptures||B.captures,D,F),B.applyEndPatternLast,d._compilePatterns(B.patterns,D,F))})),B.id}static _compileCaptures(B,D,F){let U=[];if(B){let W=0;for(const D in B){if("$vscodeTextmateLocation"===D)continue;const B=parseInt(D,10);B>W&&(W=B)}for(let B=0;B<=W;B++)U[B]=null;for(const W in B){if("$vscodeTextmateLocation"===W)continue;const H=parseInt(W,10);let X=0;B[W].patterns&&(X=d.getCompiledRuleId(B[W],D,F)),U[H]=d.createCaptureRule(D,B[W].$vscodeTextmateLocation,B[W].name,B[W].contentName,X)}}return U}static _compilePatterns(B,D,F){let U=[];if(B)for(let H=0,X=B.length;H<X;H++){const X=B[H];let ee=-1;if(X.include){const B=W.parseInclude(X.include);switch(B.kind){case 0:case 1:ee=d.getCompiledRuleId(F[X.include],D,F);break;case 2:let U=F[B.ruleName];U&&(ee=d.getCompiledRuleId(U,D,F));break;case 3:case 4:const W=B.scopeName,H=4===B.kind?B.ruleName:null,te=D.getExternalGrammar(W,F);if(te)if(H){let B=te.repository[H];B&&(ee=d.getCompiledRuleId(B,D,te.repository))}else ee=d.getCompiledRuleId(te.repository.$self,D,te.repository)}}else ee=d.getCompiledRuleId(X,D,F);if(-1!==ee){const B=D.getRule(ee);let F=!1;if((B instanceof u||B instanceof h||B instanceof p)&&B.hasMissingPatterns&&0===B.patterns.length&&(F=!0),F)continue;U.push(ee)}}return{patterns:U,hasMissingPatterns:(B?B.length:0)!==U.length}}}D.RuleFactory=d;class f{constructor(B,D){if(B){const D=B.length;let F=0,U=[],W=!1;for(let H=0;H<D;H++)if("\\"===B.charAt(H)&&H+1<D){const D=B.charAt(H+1);"z"===D?(U.push(B.substring(F,H)),U.push("$(?!\\n)(?<!\\n)"),F=H+2):"A"!==D&&"G"!==D||(W=!0),H++}this.hasAnchor=W,0===F?this.source=B:(U.push(B.substring(F,D)),this.source=U.join(""))}else this.hasAnchor=!1,this.source=B;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=D,this.hasBackReferences=H.test(this.source)}clone(){return new f(this.source,this.ruleId)}setSource(B){this.source!==B&&(this.source=B,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(B,D){let F=D.map((D=>B.substring(D.start,D.end)));return X.lastIndex=0,this.source.replace(X,((B,D)=>U.escapeRegExpCharacters(F[parseInt(D,10)]||"")))}_buildAnchorCache(){let B,D,F,U,W=[],H=[],X=[],ee=[];for(B=0,D=this.source.length;B<D;B++)F=this.source.charAt(B),W[B]=F,H[B]=F,X[B]=F,ee[B]=F,"\\"===F&&B+1<D&&(U=this.source.charAt(B+1),"A"===U?(W[B+1]="￿",H[B+1]="￿",X[B+1]="A",ee[B+1]="A"):"G"===U?(W[B+1]="￿",H[B+1]="G",X[B+1]="￿",ee[B+1]="G"):(W[B+1]=U,H[B+1]=U,X[B+1]=U,ee[B+1]=U),B++);return{A0_G0:W.join(""),A0_G1:H.join(""),A1_G0:X.join(""),A1_G1:ee.join("")}}resolveAnchors(B,D){return this.hasAnchor&&this._anchorCache?B?D?this._anchorCache.A1_G1:this._anchorCache.A1_G0:D?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}D.RegExpSource=f;class g{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(B){this._items.push(B),this._hasAnchors=this._hasAnchors||B.hasAnchor}unshift(B){this._items.unshift(B),this._hasAnchors=this._hasAnchors||B.hasAnchor}length(){return this._items.length}setSource(B,D){this._items[B].source!==D&&(this._disposeCaches(),this._items[B].setSource(D))}compile(B){if(!this._cached){let D=this._items.map((B=>B.source));this._cached=new m(B,D,this._items.map((B=>B.ruleId)))}return this._cached}compileAG(B,D,F){return this._hasAnchors?D?F?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(B,D,F)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(B,D,F)),this._anchorCache.A1_G0):F?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(B,D,F)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(B,D,F)),this._anchorCache.A0_G0):this.compile(B)}_resolveAnchors(B,D,F){let U=this._items.map((B=>B.resolveAnchors(D,F)));return new m(B,U,this._items.map((B=>B.ruleId)))}}D.RegExpSourceList=g;class m{constructor(B,D,F){this.regExps=D,this.rules=F,this.scanner=B.createOnigScanner(D)}dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){const B=[];for(let D=0,F=this.rules.length;D<F;D++)B.push("   - "+this.rules[D]+": "+this.regExps[D]);return B.join("\n")}findNextMatchSync(B,D,F){const U=this.scanner.findNextMatchSync(B,D,F);return U?{ruleId:this.rules[U.index],captureIndices:U.captureIndices}:null}}D.CompiledRule=m},583:(B,D,F)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.ThemeTrieElement=D.ThemeTrieElementRule=D.ColorMap=D.fontStyleToString=D.ParsedThemeRule=D.parseTheme=D.StyleAttributes=D.ScopeStack=D.Theme=void 0;const U=F(878);class r{constructor(B,D,F){this._colorMap=B,this._defaults=D,this._root=F,this._cachedMatchRoot=new U.CachedFn((B=>this._root.match(B)))}static createFromRawTheme(B,D){return this.createFromParsedTheme(a(B),D)}static createFromParsedTheme(B,D){return function(B,D){B.sort(((B,D)=>{let F=U.strcmp(B.scope,D.scope);return 0!==F?F:(F=U.strArrCmp(B.parentScopes,D.parentScopes),0!==F?F:B.index-D.index)}));let F=0,W="#000000",H="#ffffff";for(;B.length>=1&&""===B[0].scope;){let D=B.shift();-1!==D.fontStyle&&(F=D.fontStyle),null!==D.foreground&&(W=D.foreground),null!==D.background&&(H=D.background)}let X=new u(D),ee=new c(F,X.getId(W),X.getId(H)),te=new p(new h(0,null,-1,0,0),[]);for(let D=0,F=B.length;D<F;D++){let F=B[D];te.insert(0,F.scope,F.parentScopes,F.fontStyle,X.getId(F.foreground),X.getId(F.background))}return new r(X,ee,te)}(B,D)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(B){if(null===B)return this._defaults;const D=B.scopeName,F=this._cachedMatchRoot.get(D).find((D=>function(B,D){if(null===D)return!0;let F=0,U=D[F];for(;B;){if(o(B.scopeName,U)){if(F++,F===D.length)return!0;U=D[F]}B=B.parent}return!1}(B.parent,D.parentScopes)));return F?new c(F.fontStyle,F.foreground,F.background):null}}D.Theme=r;class i{constructor(B,D){this.parent=B,this.scopeName=D}static from(...B){let D=null;for(let F=0;F<B.length;F++)D=new i(D,B[F]);return D}push(B){return new i(this,B)}getSegments(){let B=this;const D=[];for(;B;)D.push(B.scopeName),B=B.parent;return D.reverse(),D}toString(){return this.getSegments().join(" ")}}function o(B,D){return D===B||B.startsWith(D)&&"."===B[D.length]}D.ScopeStack=i;class c{constructor(B,D,F){this.fontStyle=B,this.foregroundId=D,this.backgroundId=F}}function a(B){if(!B)return[];if(!B.settings||!Array.isArray(B.settings))return[];let D=B.settings,F=[],W=0;for(let B=0,H=D.length;B<H;B++){let H,X=D[B];if(!X.settings)continue;if("string"==typeof X.scope){let B=X.scope;B=B.replace(/^[,]+/,""),B=B.replace(/[,]+$/,""),H=B.split(",")}else H=Array.isArray(X.scope)?X.scope:[""];let ee=-1;if("string"==typeof X.settings.fontStyle){ee=0;let B=X.settings.fontStyle.split(" ");for(let D=0,F=B.length;D<F;D++)switch(B[D]){case"italic":ee|=1;break;case"bold":ee|=2;break;case"underline":ee|=4;break;case"strikethrough":ee|=8}}let te=null;"string"==typeof X.settings.foreground&&U.isValidHexColor(X.settings.foreground)&&(te=X.settings.foreground);let ne=null;"string"==typeof X.settings.background&&U.isValidHexColor(X.settings.background)&&(ne=X.settings.background);for(let D=0,U=H.length;D<U;D++){let U=H[D].trim().split(" "),X=U[U.length-1],se=null;U.length>1&&(se=U.slice(0,U.length-1),se.reverse()),F[W++]=new l(X,se,B,ee,te,ne)}}return F}D.StyleAttributes=c,D.parseTheme=a;class l{constructor(B,D,F,U,W,H){this.scope=B,this.parentScopes=D,this.index=F,this.fontStyle=U,this.foreground=W,this.background=H}}D.ParsedThemeRule=l,D.fontStyleToString=function(B){if(-1===B)return"not set";let D="";return 1&B&&(D+="italic "),2&B&&(D+="bold "),4&B&&(D+="underline "),8&B&&(D+="strikethrough "),""===D&&(D="none"),D.trim()};class u{constructor(B){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(B)){this._isFrozen=!0;for(let D=0,F=B.length;D<F;D++)this._color2id[B[D]]=D,this._id2color[D]=B[D]}else this._isFrozen=!1}getId(B){if(null===B)return 0;B=B.toUpperCase();let D=this._color2id[B];if(D)return D;if(this._isFrozen)throw new Error(`Missing color in color map - ${B}`);return D=++this._lastColorId,this._color2id[B]=D,this._id2color[D]=B,D}getColorMap(){return this._id2color.slice(0)}}D.ColorMap=u;class h{constructor(B,D,F,U,W){this.scopeDepth=B,this.parentScopes=D,this.fontStyle=F,this.foreground=U,this.background=W}clone(){return new h(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(B){let D=[];for(let F=0,U=B.length;F<U;F++)D[F]=B[F].clone();return D}acceptOverwrite(B,D,F,U){this.scopeDepth>B?console.log("how did this happen?"):this.scopeDepth=B,-1!==D&&(this.fontStyle=D),0!==F&&(this.foreground=F),0!==U&&(this.background=U)}}D.ThemeTrieElementRule=h;class p{constructor(B,D=[],F={}){this._mainRule=B,this._children=F,this._rulesWithParentScopes=D}static _sortBySpecificity(B){return 1===B.length||B.sort(this._cmpBySpecificity),B}static _cmpBySpecificity(B,D){if(B.scopeDepth===D.scopeDepth){const F=B.parentScopes,U=D.parentScopes;let W=null===F?0:F.length,H=null===U?0:U.length;if(W===H)for(let B=0;B<W;B++){const D=F[B].length,W=U[B].length;if(D!==W)return W-D}return H-W}return D.scopeDepth-B.scopeDepth}match(B){if(""===B)return p._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let D,F,U=B.indexOf(".");return-1===U?(D=B,F=""):(D=B.substring(0,U),F=B.substring(U+1)),this._children.hasOwnProperty(D)?this._children[D].match(F):p._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(B,D,F,U,W,H){if(""===D)return void this._doInsertHere(B,F,U,W,H);let X,ee,te,ne=D.indexOf(".");-1===ne?(X=D,ee=""):(X=D.substring(0,ne),ee=D.substring(ne+1)),this._children.hasOwnProperty(X)?te=this._children[X]:(te=new p(this._mainRule.clone(),h.cloneArr(this._rulesWithParentScopes)),this._children[X]=te),te.insert(B+1,ee,F,U,W,H)}_doInsertHere(B,D,F,W,H){if(null!==D){for(let X=0,ee=this._rulesWithParentScopes.length;X<ee;X++){let ee=this._rulesWithParentScopes[X];if(0===U.strArrCmp(ee.parentScopes,D))return void ee.acceptOverwrite(B,F,W,H)}-1===F&&(F=this._mainRule.fontStyle),0===W&&(W=this._mainRule.foreground),0===H&&(H=this._mainRule.background),this._rulesWithParentScopes.push(new h(B,D,F,W,H))}else this._mainRule.acceptOverwrite(B,F,W,H)}}D.ThemeTrieElement=p},878:(B,D)=>{function n(B){return Array.isArray(B)?function(B){let D=[];for(let F=0,U=B.length;F<U;F++)D[F]=n(B[F]);return D}(B):"object"==typeof B?function(B){let D={};for(let F in B)D[F]=n(B[F]);return D}(B):B}Object.defineProperty(D,"__esModule",{value:!0}),D.performanceNow=D.CachedFn=D.escapeRegExpCharacters=D.isValidHexColor=D.strArrCmp=D.strcmp=D.RegexSource=D.basename=D.mergeObjects=D.clone=void 0,D.clone=function(B){return n(B)},D.mergeObjects=function(B,...D){return D.forEach((D=>{for(let F in D)B[F]=D[F]})),B},D.basename=function e(B){const D=~B.lastIndexOf("/")||~B.lastIndexOf("\\");return 0===D?B:~D==B.length-1?e(B.substring(0,B.length-1)):B.substr(1+~D)};let F=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function r(B,D){return B<D?-1:B>D?1:0}D.RegexSource=class{static hasCaptures(B){return null!==B&&(F.lastIndex=0,F.test(B))}static replaceCaptures(B,D,U){return B.replace(F,((B,F,W,H)=>{let X=U[parseInt(F||W,10)];if(!X)return B;{let B=D.substring(X.start,X.end);for(;"."===B[0];)B=B.substring(1);switch(H){case"downcase":return B.toLowerCase();case"upcase":return B.toUpperCase();default:return B}}}))}},D.strcmp=r,D.strArrCmp=function(B,D){if(null===B&&null===D)return 0;if(!B)return-1;if(!D)return 1;let F=B.length,U=D.length;if(F===U){for(let U=0;U<F;U++){let F=r(B[U],D[U]);if(0!==F)return F}return 0}return F-U},D.isValidHexColor=function(B){return!!(/^#[0-9a-f]{6}$/i.test(B)||/^#[0-9a-f]{8}$/i.test(B)||/^#[0-9a-f]{3}$/i.test(B)||/^#[0-9a-f]{4}$/i.test(B))},D.escapeRegExpCharacters=function(B){return B.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},D.CachedFn=class{constructor(B){this.fn=B,this.cache=new Map}get(B){if(this.cache.has(B))return this.cache.get(B);const D=this.fn(B);return this.cache.set(B,D),D}},D.performanceNow="undefined"==typeof performance?function(){return Date.now()}:function(){return performance.now()}}},D={};return function n(F){var U=D[F];if(void 0!==U)return U.exports;var W=D[F]={exports:{}};return B[F].call(W.exports,W,W.exports,n),W.exports}(787)})()}))})(U);const W=["css-variables","dark-plus","dracula-soft","dracula","github-dark-dimmed","github-dark","github-light","hc_light","light-plus","material-darker","material-default","material-lighter","material-ocean","material-palenight","min-dark","min-light","monokai","nord","one-dark-pro","poimandres","rose-pine-dawn","rose-pine-moon","rose-pine","slack-dark","slack-ochin","solarized-dark","solarized-light","vitesse-dark","vitesse-light"];const H=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"source.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["json","javascript","typescript","tsx","css","less","sass","scss","stylus"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"blade",scopeName:"text.html.php.blade",path:"blade.tmLanguage.json",samplePath:"blade.sample",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"cadence",scopeName:"source.cadence",path:"cadence.tmLanguage.json",samplePath:"cadence.sample",aliases:["cdc"]},{id:"clarity",scopeName:"source.clar",path:"clarity.tmLanguage.json",samplePath:"clarity.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cmake",scopeName:"source.cmake",path:"cmake.tmLanguage.json",samplePath:"cmake.sample"},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"],embeddedLangs:["markdown"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["glsl","sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#","cs"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample",embeddedLangs:["glsl"]},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample",aliases:["erl"]},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#","fs"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"glsl",scopeName:"source.glsl",path:"glsl.tmLanguage.json",samplePath:"glsl.sample",embeddedLangs:["c"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json",aliases:["hs"]},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json",samplePath:"hcl.sample"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"imba",scopeName:"source.imba",path:"imba.tmLanguage.json",samplePath:"imba.sample"},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"json5",scopeName:"source.json5",path:"json5.tmLanguage.json",samplePath:"json5.sample"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","haskell","html","xml","java","lua","julia","ruby","javascript","typescript","python","yaml","rust","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"liquid",scopeName:"text.html.liquid",path:"liquid.tmLanguage.json",samplePath:"liquid.sample",embeddedLangs:["html","css","json","javascript"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","julia","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",embeddedLangs:["css","less","scss","typescript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"mermaid",scopeName:"source.mermaid",path:"mermaid.tmLanguage.json"},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","glsl","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"proto",scopeName:"source.proto",path:"proto.tmLanguage.json",samplePath:"proto.sample"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","scss","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"rst",scopeName:"source.rst",path:"rst.tmLanguage.json",embeddedLangs:["cpp","python","javascript","shellscript","yaml","cmake","ruby"]},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"v",scopeName:"source.v",path:"v.tmLanguage.json",samplePath:"v.sample"},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["html","markdown","pug","stylus","sass","css","scss","less","javascript","typescript","jsx","tsx","json","jsonc","yaml","toml","graphql"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["文言"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}];var X=(B=>{B[B.NotSet=-1]="NotSet";B[B.None=0]="None";B[B.Italic=1]="Italic";B[B.Bold=2]="Bold";B[B.Underline=4]="Underline";return B})(X||{});class StackElementMetadata{static toBinaryStr(B){let D=B.toString(2);while(D.length<32)D="0"+D;return D}static printMetadata(B){let D=StackElementMetadata.getLanguageId(B);let F=StackElementMetadata.getTokenType(B);let U=StackElementMetadata.getFontStyle(B);let W=StackElementMetadata.getForeground(B);let H=StackElementMetadata.getBackground(B);console.log({languageId:D,tokenType:F,fontStyle:U,foreground:W,background:H})}static getLanguageId(B){return(255&B)>>>0}static getTokenType(B){return(768&B)>>>8}static getFontStyle(B){return(14336&B)>>>11}static getForeground(B){return(8372224&B)>>>15}static getBackground(B){return(4286578688&B)>>>24}static containsBalancedBrackets(B){return 0!==(1024&B)}static set(B,D,F,U,W,H){let X=StackElementMetadata.getLanguageId(B);let ee=StackElementMetadata.getTokenType(B);let te=StackElementMetadata.getFontStyle(B);let ne=StackElementMetadata.getForeground(B);let se=StackElementMetadata.getBackground(B);let ae=StackElementMetadata.containsBalancedBrackets(B)?1:0;0!==D&&(X=D);0!==F&&(ee=8===F?0:F);-1!==U&&(te=U);0!==W&&(ne=W);0!==H&&(se=H);return(X<<0|ee<<8|te<<11|ae<<10|ne<<15|se<<24)>>>0}}function trimEndSlash(B){return B.endsWith("/")||B.endsWith("\\")?B.slice(0,-1):B}function trimStartDot(B){return B.startsWith("./")?B.slice(2):B}function dirpathparts(B){const D=B.split(/[\/\\]/g);return D.slice(0,D.length-1)}function join(...B){return B.map(trimEndSlash).map(trimStartDot).join("/")}function groupBy(B,D){const F=new Map;for(const U of B){const B=D(U);if(F.has(B)){const D=F.get(B);D.push(U)}else F.set(B,[U])}return F}function createScanner(B,D=false){const F=B.length;let U=0,W="",H=0,X=16,ee=0,te=0,ne=0,se=0,ae=0;function scanHexDigits(D,F){let W=0;let H=0;while(W<D||!F){let D=B.charCodeAt(U);if(D>=48&&D<=57)H=16*H+D-48;else if(D>=65&&D<=70)H=16*H+D-65+10;else{if(!(D>=97&&D<=102))break;H=16*H+D-97+10}U++;W++}W<D&&(H=-1);return H}function setPosition(B){U=B;W="";H=0;X=16;ae=0}function scanNumber(){let D=U;if(48===B.charCodeAt(U))U++;else{U++;while(U<B.length&&isDigit(B.charCodeAt(U)))U++}if(U<B.length&&46===B.charCodeAt(U)){U++;if(!(U<B.length&&isDigit(B.charCodeAt(U)))){ae=3;return B.substring(D,U)}U++;while(U<B.length&&isDigit(B.charCodeAt(U)))U++}let F=U;if(U<B.length&&(69===B.charCodeAt(U)||101===B.charCodeAt(U))){U++;(U<B.length&&43===B.charCodeAt(U)||45===B.charCodeAt(U))&&U++;if(U<B.length&&isDigit(B.charCodeAt(U))){U++;while(U<B.length&&isDigit(B.charCodeAt(U)))U++;F=U}else ae=3}return B.substring(D,F)}function scanString(){let D="",W=U;while(true){if(U>=F){D+=B.substring(W,U);ae=2;break}const H=B.charCodeAt(U);if(34===H){D+=B.substring(W,U);U++;break}if(92!==H){if(H>=0&&H<=31){if(isLineBreak(H)){D+=B.substring(W,U);ae=2;break}ae=6}U++}else{D+=B.substring(W,U);U++;if(U>=F){ae=2;break}const H=B.charCodeAt(U++);switch(H){case 34:D+='"';break;case 92:D+="\\";break;case 47:D+="/";break;case 98:D+="\b";break;case 102:D+="\f";break;case 110:D+="\n";break;case 114:D+="\r";break;case 116:D+="\t";break;case 117:const B=scanHexDigits(4,true);B>=0?D+=String.fromCharCode(B):ae=4;break;default:ae=5}W=U}}return D}function scanNext(){W="";ae=0;H=U;te=ee;se=ne;if(U>=F){H=F;return X=17}let D=B.charCodeAt(U);if(isWhiteSpace(D)){do{U++;W+=String.fromCharCode(D);D=B.charCodeAt(U)}while(isWhiteSpace(D));return X=15}if(isLineBreak(D)){U++;W+=String.fromCharCode(D);if(13===D&&10===B.charCodeAt(U)){U++;W+="\n"}ee++;ne=U;return X=14}switch(D){case 123:U++;return X=1;case 125:U++;return X=2;case 91:U++;return X=3;case 93:U++;return X=4;case 58:U++;return X=6;case 44:U++;return X=5;case 34:U++;W=scanString();return X=10;case 47:const te=U-1;if(47===B.charCodeAt(U+1)){U+=2;while(U<F){if(isLineBreak(B.charCodeAt(U)))break;U++}W=B.substring(te,U);return X=12}if(42===B.charCodeAt(U+1)){U+=2;const D=F-1;let H=false;while(U<D){const D=B.charCodeAt(U);if(42===D&&47===B.charCodeAt(U+1)){U+=2;H=true;break}U++;if(isLineBreak(D)){13===D&&10===B.charCodeAt(U)&&U++;ee++;ne=U}}if(!H){U++;ae=1}W=B.substring(te,U);return X=13}W+=String.fromCharCode(D);U++;return X=16;case 45:W+=String.fromCharCode(D);U++;if(U===F||!isDigit(B.charCodeAt(U)))return X=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:W+=scanNumber();return X=11;default:while(U<F&&isUnknownContentCharacter(D)){U++;D=B.charCodeAt(U)}if(H!==U){W=B.substring(H,U);switch(W){case"true":return X=8;case"false":return X=9;case"null":return X=7}return X=16}W+=String.fromCharCode(D);U++;return X=16}}function isUnknownContentCharacter(B){if(isWhiteSpace(B)||isLineBreak(B))return false;switch(B){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return false}return true}function scanNextNonTrivia(){let B;do{B=scanNext()}while(B>=12&&B<=15);return B}return{setPosition:setPosition,getPosition:()=>U,scan:D?scanNextNonTrivia:scanNext,getToken:()=>X,getTokenValue:()=>W,getTokenOffset:()=>H,getTokenLength:()=>U-H,getTokenStartLine:()=>te,getTokenStartCharacter:()=>H-se,getTokenError:()=>ae}}function isWhiteSpace(B){return 32===B||9===B}function isLineBreak(B){return 10===B||13===B}function isDigit(B){return B>=48&&B<=57}var ee;(function(B){B[B.lineFeed=10]="lineFeed";B[B.carriageReturn=13]="carriageReturn";B[B.space=32]="space";B[B._0=48]="_0";B[B._1=49]="_1";B[B._2=50]="_2";B[B._3=51]="_3";B[B._4=52]="_4";B[B._5=53]="_5";B[B._6=54]="_6";B[B._7=55]="_7";B[B._8=56]="_8";B[B._9=57]="_9";B[B.a=97]="a";B[B.b=98]="b";B[B.c=99]="c";B[B.d=100]="d";B[B.e=101]="e";B[B.f=102]="f";B[B.g=103]="g";B[B.h=104]="h";B[B.i=105]="i";B[B.j=106]="j";B[B.k=107]="k";B[B.l=108]="l";B[B.m=109]="m";B[B.n=110]="n";B[B.o=111]="o";B[B.p=112]="p";B[B.q=113]="q";B[B.r=114]="r";B[B.s=115]="s";B[B.t=116]="t";B[B.u=117]="u";B[B.v=118]="v";B[B.w=119]="w";B[B.x=120]="x";B[B.y=121]="y";B[B.z=122]="z";B[B.A=65]="A";B[B.B=66]="B";B[B.C=67]="C";B[B.D=68]="D";B[B.E=69]="E";B[B.F=70]="F";B[B.G=71]="G";B[B.H=72]="H";B[B.I=73]="I";B[B.J=74]="J";B[B.K=75]="K";B[B.L=76]="L";B[B.M=77]="M";B[B.N=78]="N";B[B.O=79]="O";B[B.P=80]="P";B[B.Q=81]="Q";B[B.R=82]="R";B[B.S=83]="S";B[B.T=84]="T";B[B.U=85]="U";B[B.V=86]="V";B[B.W=87]="W";B[B.X=88]="X";B[B.Y=89]="Y";B[B.Z=90]="Z";B[B.asterisk=42]="asterisk";B[B.backslash=92]="backslash";B[B.closeBrace=125]="closeBrace";B[B.closeBracket=93]="closeBracket";B[B.colon=58]="colon";B[B.comma=44]="comma";B[B.dot=46]="dot";B[B.doubleQuote=34]="doubleQuote";B[B.minus=45]="minus";B[B.openBrace=123]="openBrace";B[B.openBracket=91]="openBracket";B[B.plus=43]="plus";B[B.slash=47]="slash";B[B.formFeed=12]="formFeed";B[B.tab=9]="tab"})(ee||(ee={}));var te;(function(B){B.DEFAULT={allowTrailingComma:false}})(te||(te={}));function parse$1(B,D=[],F=te.DEFAULT){let U=null;let W=[];const H=[];function onValue(B){Array.isArray(W)?W.push(B):null!==U&&(W[U]=B)}const X={onObjectBegin:()=>{const B={};onValue(B);H.push(W);W=B;U=null},onObjectProperty:B=>{U=B},onObjectEnd:()=>{W=H.pop()},onArrayBegin:()=>{const B=[];onValue(B);H.push(W);W=B;U=null},onArrayEnd:()=>{W=H.pop()},onLiteralValue:onValue,onError:(B,F,U)=>{D.push({error:B,offset:F,length:U})}};visit(B,X,F);return W[0]}function visit(B,D,F=te.DEFAULT){const U=createScanner(B,false);const W=[];function toNoArgVisit(B){return B?()=>B(U.getTokenOffset(),U.getTokenLength(),U.getTokenStartLine(),U.getTokenStartCharacter()):()=>true}function toNoArgVisitWithPath(B){return B?()=>B(U.getTokenOffset(),U.getTokenLength(),U.getTokenStartLine(),U.getTokenStartCharacter(),(()=>W.slice())):()=>true}function toOneArgVisit(B){return B?D=>B(D,U.getTokenOffset(),U.getTokenLength(),U.getTokenStartLine(),U.getTokenStartCharacter()):()=>true}function toOneArgVisitWithPath(B){return B?D=>B(D,U.getTokenOffset(),U.getTokenLength(),U.getTokenStartLine(),U.getTokenStartCharacter(),(()=>W.slice())):()=>true}const H=toNoArgVisitWithPath(D.onObjectBegin),X=toOneArgVisitWithPath(D.onObjectProperty),ee=toNoArgVisit(D.onObjectEnd),ne=toNoArgVisitWithPath(D.onArrayBegin),se=toNoArgVisit(D.onArrayEnd),ae=toOneArgVisitWithPath(D.onLiteralValue),re=toOneArgVisit(D.onSeparator),oe=toNoArgVisit(D.onComment),ie=toOneArgVisit(D.onError);const ce=F&&F.disallowComments;const le=F&&F.allowTrailingComma;function scanNext(){while(true){const B=U.scan();switch(U.getTokenError()){case 4:handleError(14);break;case 5:handleError(15);break;case 3:handleError(13);break;case 1:ce||handleError(11);break;case 2:handleError(12);break;case 6:handleError(16);break}switch(B){case 12:case 13:ce?handleError(10):oe();break;case 16:handleError(1);break;case 15:case 14:break;default:return B}}}function handleError(B,D=[],F=[]){ie(B);if(D.length+F.length>0){let B=U.getToken();while(17!==B){if(-1!==D.indexOf(B)){scanNext();break}if(-1!==F.indexOf(B))break;B=scanNext()}}}function parseString(B){const D=U.getTokenValue();if(B)ae(D);else{X(D);W.push(D)}scanNext();return true}function parseLiteral(){switch(U.getToken()){case 11:const B=U.getTokenValue();let D=Number(B);if(isNaN(D)){handleError(2);D=0}ae(D);break;case 7:ae(null);break;case 8:ae(true);break;case 9:ae(false);break;default:return false}scanNext();return true}function parseProperty(){if(10!==U.getToken()){handleError(3,[],[2,5]);return false}parseString(false);if(6===U.getToken()){re(":");scanNext();parseValue()||handleError(4,[],[2,5])}else handleError(5,[],[2,5]);W.pop();return true}function parseObject(){H();scanNext();let B=false;while(2!==U.getToken()&&17!==U.getToken()){if(5===U.getToken()){B||handleError(4,[],[]);re(",");scanNext();if(2===U.getToken()&&le)break}else B&&handleError(6,[],[]);parseProperty()||handleError(4,[],[2,5]);B=true}ee();2!==U.getToken()?handleError(7,[2],[]):scanNext();return true}function parseArray(){ne();scanNext();let B=true;let D=false;while(4!==U.getToken()&&17!==U.getToken()){if(5===U.getToken()){D||handleError(4,[],[]);re(",");scanNext();if(4===U.getToken()&&le)break}else D&&handleError(6,[],[]);if(B){W.push(0);B=false}else W[W.length-1]++;parseValue()||handleError(4,[],[4,5]);D=true}se();B||W.pop();4!==U.getToken()?handleError(8,[4],[]):scanNext();return true}function parseValue(){switch(U.getToken()){case 3:return parseArray();case 1:return parseObject();case 10:return parseString(true);default:return parseLiteral()}}scanNext();if(17===U.getToken()){if(F.allowEmptyContent)return true;handleError(4,[],[]);return false}if(!parseValue()){handleError(4,[],[]);return false}17!==U.getToken()&&handleError(9,[],[]);return true}var ne;(function(B){B[B.None=0]="None";B[B.UnexpectedEndOfComment=1]="UnexpectedEndOfComment";B[B.UnexpectedEndOfString=2]="UnexpectedEndOfString";B[B.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber";B[B.InvalidUnicode=4]="InvalidUnicode";B[B.InvalidEscapeCharacter=5]="InvalidEscapeCharacter";B[B.InvalidCharacter=6]="InvalidCharacter"})(ne||(ne={}));var se;(function(B){B[B.OpenBraceToken=1]="OpenBraceToken";B[B.CloseBraceToken=2]="CloseBraceToken";B[B.OpenBracketToken=3]="OpenBracketToken";B[B.CloseBracketToken=4]="CloseBracketToken";B[B.CommaToken=5]="CommaToken";B[B.ColonToken=6]="ColonToken";B[B.NullKeyword=7]="NullKeyword";B[B.TrueKeyword=8]="TrueKeyword";B[B.FalseKeyword=9]="FalseKeyword";B[B.StringLiteral=10]="StringLiteral";B[B.NumericLiteral=11]="NumericLiteral";B[B.LineCommentTrivia=12]="LineCommentTrivia";B[B.BlockCommentTrivia=13]="BlockCommentTrivia";B[B.LineBreakTrivia=14]="LineBreakTrivia";B[B.Trivia=15]="Trivia";B[B.Unknown=16]="Unknown";B[B.EOF=17]="EOF"})(se||(se={}));const ae=parse$1;var re;(function(B){B[B.InvalidSymbol=1]="InvalidSymbol";B[B.InvalidNumberFormat=2]="InvalidNumberFormat";B[B.PropertyNameExpected=3]="PropertyNameExpected";B[B.ValueExpected=4]="ValueExpected";B[B.ColonExpected=5]="ColonExpected";B[B.CommaExpected=6]="CommaExpected";B[B.CloseBraceExpected=7]="CloseBraceExpected";B[B.CloseBracketExpected=8]="CloseBracketExpected";B[B.EndOfFileExpected=9]="EndOfFileExpected";B[B.InvalidCommentToken=10]="InvalidCommentToken";B[B.UnexpectedEndOfComment=11]="UnexpectedEndOfComment";B[B.UnexpectedEndOfString=12]="UnexpectedEndOfString";B[B.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber";B[B.InvalidUnicode=14]="InvalidUnicode";B[B.InvalidEscapeCharacter=15]="InvalidEscapeCharacter";B[B.InvalidCharacter=16]="InvalidCharacter"})(re||(re={}));"process"in globalThis&&"undefined"!==typeof process&&"undefined"!==typeof process.release&&"node"===process.release.name;let oe="";let ie="";const ce="dist/";function setCDN(B){oe=B.endsWith("/")?B:B+"/"}function setWasm(B){ie=B}let le=null;async function getOniguruma(D){if(!le){let F;F="string"===typeof ie?B.loadWASM({data:await(globalThis.__shiki_fetch__||globalThis.fetch)(_resolvePath(join(...dirpathparts(D),"onig.wasm")))}):B.loadWASM({data:ie});le=F.then((()=>({createOnigScanner(D){return B.createOnigScanner(D)},createOnigString(D){return B.createOnigString(D)}})))}return le}function _resolvePath(B){return`${oe}${B}`}async function _fetchAssets(B){const D=_resolvePath(B);return await(globalThis.__shiki_fetch__||globalThis.fetch)(D).then((B=>B.text()))}async function _fetchJSONAssets(B){const D=[];const F=ae(await _fetchAssets(B),D,{allowTrailingComma:true});if(D.length)throw D[0];return F}async function fetchTheme(B){let D=await _fetchJSONAssets(B);const F=toShikiTheme(D);if(F.include){const D=await fetchTheme(join(...dirpathparts(B),F.include));D.settings&&(F.settings=D.settings.concat(F.settings));D.bg&&!F.bg&&(F.bg=D.bg);D.colors&&(F.colors={...D.colors,...F.colors});delete F.include}return F}async function fetchGrammar(B){return await _fetchJSONAssets(B)}function repairTheme(B){B.settings||(B.settings=[]);B.settings[0]&&B.settings[0].settings&&!B.settings[0].scope||B.settings.unshift({settings:{foreground:B.fg,background:B.bg}})}function toShikiTheme(B){const D=B.type||"dark";const F={name:B.name,type:D,...B,...getThemeDefaultColors(B)};B.include&&(F.include=B.include);if(B.tokenColors){F.settings=B.tokenColors;delete F.tokenColors}repairTheme(F);return F}const ue={light:"#333333",dark:"#bbbbbb"};const he={light:"#fffffe",dark:"#1e1e1e"};function getThemeDefaultColors(B){let D,F;let U=B.settings?B.settings:B.tokenColors;const W=U?U.find((B=>!B.name&&!B.scope)):void 0;W?.settings?.foreground&&(D=W.settings.foreground);W?.settings?.background&&(F=W.settings.background);!D&&B?.colors?.["editor.foreground"]&&(D=B.colors["editor.foreground"]);!F&&B?.colors?.["editor.background"]&&(F=B.colors["editor.background"]);D||(D="light"===B.type?ue.light:ue.dark);F||(F="light"===B.type?he.light:he.dark);return{fg:D,bg:F}}class Resolver{constructor(B,D){this.languagesPath="languages/";this.languageMap={};this.scopeToLangMap={};this._onigLibPromise=B;this._onigLibName=D}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(B){return this.languageMap[B]}async loadGrammar(B){const D=this.scopeToLangMap[B];if(!D)return null;if(D.grammar)return D.grammar;const F=await fetchGrammar(H.includes(D)?`${this.languagesPath}${D.path}`:D.path);D.grammar=F;return F}addLanguage(B){this.languageMap[B.id]=B;B.aliases&&B.aliases.forEach((D=>{this.languageMap[D]=B}));this.scopeToLangMap[B.scopeName]=B}}function tokenizeWithTheme(B,D,U,W,H){let X=U.split(/\r\n|\r|\n/);let ee=F.INITIAL;let te=[];let ne=[];for(let F=0,U=X.length;F<U;F++){let U=X[F];if(""===U){te=[];ne.push([]);continue}let se;let ae;let re;if(H.includeExplanation){se=W.tokenizeLine(U,ee);ae=se.tokens;re=0}let oe=W.tokenizeLine2(U,ee);let ie=oe.tokens.length/2;for(let F=0;F<ie;F++){let W=oe.tokens[2*F];let X=F+1<ie?oe.tokens[2*F+2]:U.length;if(W===X)continue;let ee=oe.tokens[2*F+1];let ne=StackElementMetadata.getForeground(ee);let se=D[ne];let ce=StackElementMetadata.getFontStyle(ee);let le=[];if(H.includeExplanation){let D=0;while(W+D<X){let F=ae[re];let W=U.substring(F.startIndex,F.endIndex);D+=W.length;le.push({content:W,scopes:explainThemeScopes(B,F.scopes)});re++}}te.push({content:U.substring(W,X),color:se,fontStyle:ce,explanation:le})}ne.push(te);te=[];ee=oe.ruleStack}return ne}function explainThemeScopes(B,D){let F=[];for(let U=0,W=D.length;U<W;U++){let W=D.slice(0,U);let H=D[U];F[U]={scopeName:H,themeMatches:explainThemeScope(B,H,W)}}return F}function matchesOne(B,D){let F=B+".";return B===D||D.substring(0,F.length)===F}function matches(B,D,F,U){if(!matchesOne(B,F))return false;let W=D.length-1;let H=U.length-1;while(W>=0&&H>=0){matchesOne(D[W],U[H])&&W--;H--}return-1===W}function explainThemeScope(B,D,F){let U=[],W=0;for(let H=0,X=B.settings.length;H<X;H++){let X=B.settings[H];let ee;if("string"===typeof X.scope)ee=X.scope.split(/,/).map((B=>B.trim()));else{if(!Array.isArray(X.scope))continue;ee=X.scope}for(let B=0,H=ee.length;B<H;B++){let te=ee[B];let ne=te.split(/ /);let se=ne[ne.length-1];let ae=ne.slice(0,ne.length-1);if(matches(se,ae,D,F)){U[W++]=X;B=H}}}return U}const pe={pre({className:B,style:D,children:F}){return`<pre class="${B}" style="${D}">${F}</pre>`},code({children:B}){return`<code>${B}</code>`},line({className:B,children:D}){return`<span class="${B}">${D}</span>`},token({style:B,children:D}){return`<span style="${B}">${D}</span>`}};function renderToHtml(B,D={}){const F=D.bg||"#fff";const U=groupBy(D.lineOptions??[],(B=>B.line));const W=D.elements||{};function h(B="",D={},F){const U=W[B]||pe[B];if(U){F=F.filter(Boolean);return U({...D,children:"code"===B?F.join("\n"):F.join("")})}return""}return h("pre",{className:"shiki "+(D.themeName||""),style:`background-color: ${F}`},[D.langId?`<div class="language-id">${D.langId}</div>`:"",h("code",{},B.map(((F,W)=>{const H=W+1;const ee=U.get(H)??[];const te=getLineClasses(ee).join(" ");return h("line",{className:te,lines:B,line:F,index:W},F.map(((B,U)=>{const W=[`color: ${B.color||D.fg}`];B.fontStyle&X.Italic&&W.push("font-style: italic");B.fontStyle&X.Bold&&W.push("font-weight: bold");B.fontStyle&X.Underline&&W.push("text-decoration: underline");return h("token",{style:W.join("; "),tokens:F,token:B,index:U},[escapeHtml(B.content)])})))})))])}const de={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function escapeHtml(B){return B.replace(/[&<>"']/g,(B=>de[B]))}function getLineClasses(B){const D=new Set(["line"]);for(const F of B)for(const B of F.classes??[])D.add(B);return Array.from(D)}class Registry extends F.Registry{constructor(B){super(B);this._resolver=B;this.themesPath="themes/";this._resolvedThemes={};this._resolvedGrammars={};this._langGraph=new Map;this._langMap=H.reduce(((B,D)=>{B[D.id]=D;return B}),{})}getTheme(B){return"string"===typeof B?this._resolvedThemes[B]:B}async loadTheme(B){if("string"===typeof B){this._resolvedThemes[B]||(this._resolvedThemes[B]=await fetchTheme(`${this.themesPath}${B}.json`));return this._resolvedThemes[B]}B=toShikiTheme(B);B.name&&(this._resolvedThemes[B.name]=B);return B}async loadThemes(B){return await Promise.all(B.map((B=>this.loadTheme(B))))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(B){return this._resolvedGrammars[B]}async loadLanguage(B){const D=B.embeddedLangs?.reduce((async(B,D,F)=>{if(!this.getLoadedLanguages().includes(D)&&this._resolver.getLangRegistration(D)){await this._resolver.loadGrammar(this._resolver.getLangRegistration(D).scopeName);B[this._resolver.getLangRegistration(D).scopeName]=F+2;return B}}),{});const F={embeddedLanguages:D,balancedBracketSelectors:B.balancedBracketSelectors||["*"],unbalancedBracketSelectors:B.unbalancedBracketSelectors||[]};const U=await this.loadGrammarWithConfiguration(B.scopeName,1,F);this._resolvedGrammars[B.id]=U;B.aliases&&B.aliases.forEach((B=>{this._resolvedGrammars[B]=U}))}async loadLanguages(B){for(const D of B)this.resolveEmbeddedLanguages(D);const D=Array.from(this._langGraph.values());for(const B of D)this._resolver.addLanguage(B);for(const B of D)await this.loadLanguage(B)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}resolveEmbeddedLanguages(B){this._langGraph.has(B.id)||this._langGraph.set(B.id,B);if(B.embeddedLangs)for(const D of B.embeddedLangs)this._langGraph.set(D,this._langMap[D])}}function resolveLang(B){return"string"===typeof B?H.find((D=>D.id===B||D.aliases?.includes(B))):B}function resolveOptions(B){let D=H;let F=B.themes||[];let U=B.paths?.wasm?B.paths.wasm.endsWith("/")?B.paths.wasm:B.paths.wasm+"/":ce;B.langs&&(D=B.langs.map(resolveLang));B.theme&&F.unshift(B.theme);F.length||(F=["nord"]);return{_languages:D,_themes:F,_wasmPath:U}}async function getHighlighter(B){const{_languages:D,_themes:F,_wasmPath:U}=resolveOptions(B);const W=new Resolver(getOniguruma(U),"vscode-oniguruma");const H=new Registry(W);B.paths?.themes&&(H.themesPath=B.paths.themes.endsWith("/")?B.paths.themes:B.paths.themes+"/");B.paths?.languages&&(W.languagesPath=B.paths.languages.endsWith("/")?B.paths.languages:B.paths.languages+"/");const X=await H.loadThemes(F);const ee=X[0];let te;await H.loadLanguages(D);let ne={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function setColorReplacements(B){ne=B}function fixCssVariablesTheme(B,D){B.bg=ne[B.bg]||B.bg;B.fg=ne[B.fg]||B.fg;D.forEach(((B,F)=>{D[F]=ne[B]||B}))}function getTheme(B){const D=B?H.getTheme(B):ee;if(!D)throw Error(`No theme registration for ${B}`);if(!te||te.name!==D.name){H.setTheme(D);te=D}const F=H.getColorMap();"css"===D.type&&fixCssVariablesTheme(D,F);return{_theme:D,_colorMap:F}}function getGrammar(B){const D=H.getGrammar(B);if(!D)throw Error(`No language registration for ${B}`);return{_grammar:D}}function codeToThemedTokens(B,D="text",F,U={includeExplanation:true}){if(isPlaintext(D)){const D=B.split(/\r\n|\r|\n/);return[...D.map((B=>[{content:B}]))]}const{_grammar:W}=getGrammar(D);const{_theme:H,_colorMap:X}=getTheme(F);return tokenizeWithTheme(H,X,B,W,U)}function codeToHtml(B,D="text",F){let U;U="object"===typeof D?D:{lang:D,theme:F};const W=codeToThemedTokens(B,U.lang,U.theme,{includeExplanation:false});const{_theme:H}=getTheme(U.theme);return renderToHtml(W,{fg:H.fg,bg:H.bg,lineOptions:U?.lineOptions,themeName:H.name})}async function loadTheme(B){await H.loadTheme(B)}async function loadLanguage(B){const D=resolveLang(B);W.addLanguage(D);await H.loadLanguage(D)}function getLoadedThemes(){return H.getLoadedThemes()}function getLoadedLanguages(){return H.getLoadedLanguages()}function getBackgroundColor(B){const{_theme:D}=getTheme(B);return D.bg}function getForegroundColor(B){const{_theme:D}=getTheme(B);return D.fg}return{codeToThemedTokens:codeToThemedTokens,codeToHtml:codeToHtml,getTheme:B=>getTheme(B)._theme,loadTheme:loadTheme,loadLanguage:loadLanguage,getBackgroundColor:getBackgroundColor,getForegroundColor:getForegroundColor,getLoadedThemes:getLoadedThemes,getLoadedLanguages:getLoadedLanguages,setColorReplacements:setColorReplacements}}function isPlaintext(B){return!B||["plaintext","txt","text"].includes(B)}function setOnigasmWASM(B){setWasm(B)}const me="0.2.0";setCDN(`https://cdn.jsdelivr.net/npm/shiki-es@${me}/dist/assets/`);export{H as BUNDLED_LANGUAGES,W as BUNDLED_THEMES,X as FontStyle,getHighlighter,fetchTheme as loadTheme,renderToHtml,setCDN,setOnigasmWASM,setWasm,toShikiTheme};

